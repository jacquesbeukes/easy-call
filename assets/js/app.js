var ecApp=angular.module("ecApp",["ngRoute","restangular","ecAppControllers","ecAppDirectives","ecAppFilters"]);ecApp.config(["$routeProvider",function(e){e.when("/ready",{templateUrl:djangoStatic+"partials/call/ready.html",controller:"readyCtrl"}).when("/call/:callCat",{templateUrl:djangoStatic+"partials/call/call.html",controller:"callCtrl"}).when("/call/:callCat/empty",{templateUrl:djangoStatic+"partials/call/call_empty.html",controller:"callEmptyCtrl"}).otherwise({redirectTo:"/ready"})}]);var ecAppControllers=angular.module("ecAppControllers",["restangular"]);ecAppControllers.controller("readyCtrl",["$scope","Restangular",function(e,t){t.all("list_types/").getList().then(function(t){e.types=t})}]),ecAppControllers.controller("callEmptyCtrl",["$scope","$routeParams","Restangular",function(e,t,a){a.one("list_types/"+t.callCat+"/").get().then(function(t){e.callType=t})}]),ecAppControllers.controller("callCtrl",["$scope","$routeParams","Restangular","$q","$window",function(e,t,a,i,d){"use strict";a.one("list_types/"+t.callCat+"/").get().then(function(t){e.callType=t}),e.getNextRecord=function(){var l=i.defer(),n=a.one("call_records/"+t.callCat+"/next/");return n.get().then(function(t){e.demographics=t,l.resolve()},function(e){console.log("Error with status code",e.status),l.reject(),d.location.href="#/call/"+t.callCat+"/empty"}),l.promise},e.getUserNotes=function(){a.one("call_records/"+e.demographics.id+"/notes/").get().then(function(t){e.usernotes=t})},e.getSystemNotes=function(){a.one("call_records/"+e.demographics.id+"/sysnotes/").get().then(function(t){e.systemnotes=t})},e.getExtraInfo=function(){a.one("call_records/"+e.demographics.id+"/extra/").get().then(function(t){e.extra=t})},e.getCall=function(){a.one("call/"+e.demographics.call+"/").get().then(function(t){e.call=t})},e.createNote=function(t){var i=e.demographics.id,d=a.one("call_records",i).all("notes/"),l={text:t};d.post(l,{},{"X-CSRFToken":csrf_token}).then(function(t){console.log("Note created."),e.getUserNotes()},function(e){console.log("Error with status code",e.status)})},e.deleteNote=function(t){var i=a.one("user_notes/"+t+"/");i.remove({},{"X-CSRFToken":csrf_token}).then(function(t){console.log("Note deleted."),e.getUserNotes()},function(e){console.log("Error with status code",e.status)})},e.updateNote=function(t,i){var d=a.one("user_notes/"+t+"/");d.get().then(function(t){t.text=i,t.put({},{"X-CSRFToken":csrf_token}).then(function(t){console.log("Note updated."),e.getUserNotes()},function(e){console.log("Error with status code",e.status)})})},e.updateSysNotes=function(t){var i=t.call_record,d=a.one("call_records/"+i+"/sysnotes/");d.get().then(function(a){a.note1=t.note1,a.note2=t.note2,a.note3=t.note3,a.put({},{"X-CSRFToken":csrf_token}).then(function(t){console.log("System Notes updated."),e.getSystemNotes()},function(e){console.log("Error with status code",e.status)})})},e.updateCall=function(t,i){var d=t.pk,l=a.one("call/"+d+"/");l.get().then(function(a){a.data1=t.data1,a.data2=t.data2,a.data3=t.data3,a.data4=t.data4,a.data5=t.data5,a.data6=t.data6,a.data7=t.data7,a.data8=t.data8,a.result=i,a.put({},{"X-CSRFToken":csrf_token}).then(function(t){console.log("Call updated."),e.next()},function(e){console.log("Error with status code",e.status)})})},e.updateRecord=function(e){var t=a.one("call_records");t.id=e.id,t.get().then(function(t){t.name_prefix=e.name_prefix,t.name_middle=e.name_middle,t.name_family=e.name_family,t.name_suffix=e.name_suffix,t.tel_day=e.tel_day,t.tel_evening=e.tel_evening,t.tel_work=e.tel_work,t.tel_mobile=e.tel_mobile,t.address_1=e.address_1,t.address_2=e.address_2,t.address_3=e.address_3,t.suburb=e.suburb,t.city=e.city,t.postcode=e.postcode,t.do_not_mail_reason=e.do_not_mail_reason,t.date_of_birth=e.date_of_birth,t.age=e.age,t.put({},{"X-CSRFToken":csrf_token}).then(function(e){console.log("Note updated.")},function(e){console.log("Error with status code",e.status)})})},e.next=function(){e.getNextRecord().then(function(){e.getUserNotes(),e.getExtraInfo(),e.getSystemNotes(),e.getCall()})},e.next()}]);var ecAppDirectives=angular.module("ecAppDirectives",[]);ecAppDirectives.directive("ecExtraList",function(){return{restrict:"A",scope:{data:"="},template:'<div ng-if="data.field1_display" ec-extra heading="data.field1_display" text="data.field1" class="row"></div><div ng-if="data.field2_display" ec-extra heading="data.field2_display" text="data.field2" class="row"></div><div ng-if="data.field3_display" ec-extra heading="data.field3_display" text="data.field3" class="row"></div><div ng-if="data.field4_display" ec-extra heading="data.field4_display" text="data.field4" class="row"></div><div ng-if="data.field5_display" ec-extra heading="data.field5_display" text="data.field5" class="row"></div><div ng-if="data.field6_display" ec-extra heading="data.field6_display" text="data.field6" class="row"></div><div ng-if="data.field7_display" ec-extra heading="data.field7_display" text="data.field7" class="row"></div><div ng-if="data.field8_display" ec-extra heading="data.field8_display" text="data.field8" class="row"></div><div ng-if="data.field9_display" ec-extra heading="data.field9_display" text="data.field9" class="row"></div><div ng-if="data.field10_display" ec-extra heading="data.field10_display" text="data.field10" class="row"></div><div ng-if="data.field11_display" ec-extra heading="data.field11_display" text="data.field11" class="row"></div><div ng-if="data.field12_display" ec-extra heading="data.field12_display" text="data.field12" class="row"></div><div ng-if="data.field13_display" ec-extra heading="data.field13_display" text="data.field13" class="row"></div><div ng-if="data.field14_display" ec-extra heading="data.field14_display" text="data.field14" class="row"></div><div ng-if="data.field15_display" ec-extra heading="data.field15_display" text="data.field15" class="row"></div><div ng-if="data.field16_display" ec-extra heading="data.field16_display" text="data.field16" class="row"></div><div ng-if="data.field17_display" ec-extra heading="data.field17_display" text="data.field17" class="row"></div><div ng-if="data.field18_display" ec-extra heading="data.field18_display" text="data.field18" class="row"></div><div ng-if="data.field19_display" ec-extra heading="data.field19_display" text="data.field19" class="row"></div><div ng-if="data.field20_display" ec-extra heading="data.field20_display" text="data.field20" class="row"></div>'}}),ecAppDirectives.directive("ecExtra",function(){return{restrict:"A",scope:{heading:"=",text:"="},template:'<em class="col-xs-3 item-heading">{{heading}}</em><span class="col-xs-9">{{text}}</span>'}}),ecAppDirectives.directive("ecAddNote",function(){return{restrict:"A",scope:{savefunc:"&"},template:'<form class="form-horizontal"> <div class="form-group" ng-hide="viewing">   <div class="col-xs-12">     <textarea class="form-control" rows="4"  id="note"                placeholder="Note Text here" ng-model="noteText">     </textarea>   </div> </div> <div class="form-group">   <div class="col-xs-12">     <button class="btn btn-md btn-default" ng-click="edit(noteText)">     New Note</button>   </div> </div>',link:function(e,t,a){e.noteText="",e.viewing=!0,e.edit=function(a){var i=angular.element(t.find("button"));e.viewing?(e.viewing=!1,i.prop("innerText","Add")):(e.viewing=!0,e.savefunc({text:a}),e.noteText="",i.prop("innerText","New Note"))}}}}),ecAppDirectives.directive("ecUserNote",function(){return{restrict:"A",scope:{data:"=",deletefunc:"&",updatefunc:"&"},template:'<span class="badge">{{data.creator_name}}</span><h4 class="list-group-item-heading">{{data.pretty_date}}</h4><div class=".container-fluid">  <div class="row" ng-hide="editing">    <p class="list-group-item-text col-xs-9">{{data.text}}</p>    <div class="col-xs-3 button-group">      <button class="btn btn-md btn-default" ng-click="edit()">        <span class="glyphicon glyphicon-pencil"></button>      <button class="btn btn-md btn-default" ng-click="deletefunc({id: data.pk})">        <span class="glyphicon glyphicon-trash"></button>    </div>  </div>  <div class="row" ng-hide="viewing">    <div class="col-xs-12">      <textarea class="form-control" rows="4"  id="note"                 placeholder="Note Text here" ng-model="data.text">      </textarea>    </div>  </div>  <div class="row" ng-hide="viewing">    <div class="col-xs-12">    <button class="btn btn-md btn-default" ng-click="edit()">    Save</button>    </div>  </div></div>',link:function(e,t,a){e.viewing=!0,e.editing=!1,e.edit=function(){e.viewing?(e.viewing=!1,e.editing=!0):(e.viewing=!0,e.editing=!1,e.updatefunc({text:e.data.text,id:e.data.pk}))}}}}),ecAppDirectives.directive("sysnotes",function(){return{restrict:"E",scope:{data:"=",updatefunc:"&"},template:'<div class="panel panel-default">  <!-- Default panel contents -->  <div class="panel-heading">    <button type="button" class="btn btn-default"            ng-click="edit()">Edit</button>    <h4>System Notes</h4>    <div style="clear: both;"></div>  </div>  <!-- List group -->  <div class="list-group">    <sysnote class="list-group-item" editing="editing"             header="data.note1_display" text="data.note1"             badge="CRM" ng-if="data.note1_display"></sysnote>    <sysnote class="list-group-item" editing="editing"             header="data.note2_display" text="data.note2"             badge="CRM" ng-if="data.note2_display"></sysnote>    <sysnote class="list-group-item" editing="editing"             header="data.note3_display" text="data.note3"             badge="CRM" ng-if="data.note3_display"></sysnote>  </div></div>',link:function(e,t,a){e.editing=!1;var i=angular.element(t.find("button"));e.edit=function(){e.editing?(e.editing=!1,i.prop("innerText","Edit"),e.updatefunc({data:e.data})):(e.editing=!0,i.prop("innerText","Save"))}}}}),ecAppDirectives.directive("sysnote",function(){return{restrict:"E",scope:{editing:"=",header:"=",text:"=",badge:"@"},template:'  <span class="badge">{{badge}}</span>  <h4 class="list-group-item-heading">{{header}}</h4>  <span class="note-text" ng-hide="editing">{{text}}</span>  <textarea ng-show="editing" rows="4" ng-model="text"            class="form-control" ></textarea>'}}),ecAppDirectives.directive("ecResultSection",function(){return{restrict:"E",scope:{call:"=",buttons:"=",updatefunc:"&"},template:'<ec-result-input-list call="call"></ec-result-input-list><div class="row buttons">  <div class="col-xs-4" ng-repeat="button in buttons">    <a ec-action-button linkfunc="submit(button)" data="button"></a>  </div> </div><div class="row buttons">  <div class="col-xs-6">    <a class="btn btn-block btn-primary" ng-click="next()" role="button">Next</a>  </div>  <div class="col-xs-6">    <a class="btn btn-block btn-primary" href="#/ready" role="button">Break</a>  </div></div>',link:function(e,t,a){e.submit=function(t){e.updatefunc({button:t.display_name,data:e.call})},e.next=function(){e.updatefunc({button:"Next",data:e.call})}}}}),ecAppDirectives.directive("ecActionButton",function(){return{restrict:"A",scope:{linkfunc:"&",data:"="},template:'<a ng-class="btnclass(data.category)" role="button" ng-click="linkfunc()">{{data.display_name}}</a>',link:function(e){e.btnclass=function(e){var t="btn btn-block btn-md ";if("gd"===e)var a=t.concat("btn-success");else if("bd"===e)var a=t.concat("btn-danger");else if("nt"===e)var a=t.concat("btn-default");else if("ic"===e)var a=t.concat("btn-primary");else var a=t;return a}}}}),ecAppDirectives.directive("ecResultInputList",function(){return{restrict:"E",scope:{call:"="},template:'<ec-result-input ng-if="call.data1_display"    addon="call.data1_addon"     value="call.data1"    text="call.data1_display"></ec-result-input><ec-result-input ng-if="call.data2_display"    addon="call.data2_addon"     value="call.data2"    text="call.data2_display"></ec-result-input><ec-result-input ng-if="call.data3_display"    addon="call.data3_addon"     value="call.data3"    text="call.data3_display"></ec-result-input><ec-result-input ng-if="call.data4_display"    addon="call.data4_addon"     value="call.data4"    text="call.data4_display"></ec-result-input><ec-result-input ng-if="call.data5_display"    addon="call.data5_addon"     value="call.data5"    text="call.data5_display"></ec-result-input><ec-result-input ng-if="call.data6_display"    addon="call.data6_addon"     value="call.data6"    text="call.data6_display"></ec-result-input><ec-result-input ng-if="call.data7_display"    addon="call.data7_addon"     value="call.data7"    text="call.data7_display"></ec-result-input><ec-result-input ng-if="call.data8_display"    addon="call.data8_addon"     value="call.data8"    text="call.data8_display"></ec-result-input>'}}),ecAppDirectives.directive("ecResultInput",function(){return{restrict:"E",scope:{addon:"=",value:"=",text:"="},template:'<div class="input-group">  <span class="input-group-addon" id="basic-addon1">{{addon}}</span>  <input type="text" class="form-control" placeholder="{{text}}"         aria-describedby="basic-addon1" ng-model="value">  </input></div>'}}),ecAppDirectives.directive("ecDemographicsSection",function(){return{restrict:"E",scope:{data:"=",updatefunc:"&"},template:'<div class=row>  <div class="name col-xs-10">    <span>{{data.name_prefix}}</span>    <span>{{data.name_first}}</span>    <span>{{data.name_middle}}</span>    <span>{{data.name_family}}</span>    <span>{{data.name_suffix}}</span>  </div>  <button type="button" ng-click="edit()"          class="btn btn-default btn-sm pull-right edit">    <span ng-class="glyphclass"></span>  </button></div><div class="edit-mode" ng-show="editing"> <ec-name-edit data="data"></ec-name-edit> <ec-demo-edit data="data"></ec-demo-edit></div><div class="view-mode" ng-hide="editing"> <ec-demo-view data="data"></ec-demo-edit></div>',link:function(e,t,a){e.editing=!1,e.glyphclass="glyphicon glyphicon-edit",e.edit=function(){e.editing?(e.editing=!1,e.glyphclass="glyphicon glyphicon-edit",e.updatefunc({data:e.data})):(e.editing=!0,e.glyphclass="glyphicon glyphicon-save")}}}}),ecAppDirectives.directive("ecDemoView",function(){return{restrict:"E",scope:{data:"="},template:'<div class="demo-set">  <ec-pair label="Serial Number"           data="data.serial_number"></ec-pair>  <ec-pair label="DOB"           data="data.date_of_birth"></ec-pair>  <ec-pair label="Age"           data="data.age"></ec-pair></div><div class="demo-set">  <ec-tel-pair label="Tel (day)" ng-if="data.tel_day"               data="data.tel_day"></ec-tel-pair>  <ec-tel-pair label="Tel (evening)" ng-if="data.tel_evening"               data="data.tel_evening"></ec-tel-pair>  <ec-tel-pair label="Tel (work)" ng-if="data.tel_work"               data="data.tel_work"></ec-tel-pair>  <ec-tel-pair label="Tel (mob)" ng-if="data.tel_mobile"               data="data.tel_mobile"></ec-tel-pair></div><div class="demo-set">  <ec-pair label="Address" ng-if="data.address_1"           data="data.address_1"></ec-pair>  <ec-pair label="Address(2)" ng-if="data.address_2"           data="data.address_2"></ec-pair>  <ec-pair label="Address(3)" ng-if="data.address_3"           data="data.address_3"></ec-pair>  <ec-pair label="Suburb" ng-if="data.suburb"           data="data.suburb"></ec-pair>  <ec-pair label="City" ng-if="data.city"           data="data.city"></ec-pair>  <ec-pair label="Postcode" ng-if="data.postcode"           data="data.postcode"></ec-pair>  <ec-pair label="Do Not Mail Reason" ng-if="data.do_not_mail_reason"           data="data.do_not_mail_reason"></ec-pair></div>'}}),ecAppDirectives.directive("ecDemoEdit",function(){return{restrict:"E",scope:{data:"="},template:'<ec-textfield id="id_serial_number" label="Serial Number"              data="data.serial_number" readonly="true"></ec-textfield><ec-textfield id="id_date_of_birth" label="DOB"              data="data.date_of_birth"></ec-textfield><ec-textfield id="id_age" label="Age"              data="data.age"></ec-textfield><ec-textfield id="id_tel_day" label="Tel (day)"              data="data.tel_day"></ec-textfield><ec-textfield id="id_tel_evening" label="Tel (evening)"              data="data.tel_evening"></ec-textfield><ec-textfield id="id_tel_work" label="Tel (work)"              data="data.tel_work"></ec-textfield><ec-textfield id="id_tel_mobile" label="Tel (mob)"              data="data.tel_mobile"></ec-textfield><ec-textfield id="id_address_1" label="Address"              data="data.address_1"></ec-textfield><ec-textfield id="id_address_2" label="Address(2)"              data="data.address_2"></ec-textfield><ec-textfield id="id_address_3" label="Address(3)"              data="data.address_3"></ec-textfield><ec-textfield id="id_suburb" label="Suburb"              data="data.suburb"></ec-textfield><ec-textfield id="id_city" label="City"              data="data.city"></ec-textfield><ec-textfield id="id_postcode" label="Postcode"              data="data.postcode"></ec-textfield><ec-textarea id="id_do_not_mail_reason" label="Do Not Mail Reason"             data="data.do_not_mail_reason"></ec-textarea>'}}),ecAppDirectives.directive("ecNameEdit",function(){return{restrict:"E",scope:{data:"="},template:'<ec-textfield id="id_name_prefix" label="Name Prefix"           data="data.name_prefix"></ec-textfield><ec-textfield id="id_name_first" label="First Name"           data="data.name_first"></ec-textfield><ec-textfield id="id_name_middle" label="Middle Name or Initials"           data="data.name_middle"></ec-textfield><ec-textfield id="id_name_family" label="Family Name"           data="data.name_family"></ec-textfield><ec-textfield id="id_name_suffix" label="Name Suffix"           data="data.name_suffix"></ec-textfield>'}}),ecAppDirectives.directive("ecPair",function(){return{restrict:"E",scope:{label:"@",data:"="},template:'<div class="row pair">  <span class="col-xs-4 title">{{label}}</span>  <span class="col-xs-8 data">{{data}}</span></div>'}}),ecAppDirectives.directive("ecTelPair",function(){return{restrict:"E",scope:{label:"@",data:"="},template:'<div class="row pair">  <span class="col-xs-4 title">{{label}}</span>  <a href="callto:{{data}}" class="col-xs-8 data">{{data}}</a></div>'}}),ecAppDirectives.directive("ecTextfield",function(){return{restrict:"E",scope:{id:"@",label:"@",data:"=",readonly:"@"},template:'<div class="form-group">  <label for="{{id}}" class="title">{{label}}</label>  <input type="text" class="form-control" id="{{id}}"         ng-model="data"></div>',link:function(e,t,a){var i=angular.element(t.find("input"));"true"===e.readonly&&i.attr("readonly","readonly")}}}),ecAppDirectives.directive("ecTextarea",function(){return{restrict:"E",scope:{id:"@",label:"@",data:"=",readonly:"@"},template:'<div class="form-group">  <label for="{{id}}" class="title">{{label}}</label>  <textarea rows="3" class="form-control" id="{{id}}"         ng-model="data"></textarea></div>',link:function(e,t,a){var i=angular.element(t.find("input"));"true"===e.readonly&&i.attr("readonly","readonly")}}});var ecAppFilters=angular.module("ecAppFilters",[]),ecQueue=angular.module("ecExport",["restangular","ecExportControllers","ecExportDirectives","ecExportServices"]),ecExportControllers=angular.module("ecExportControllers",[]);ecExportControllers.controller("exportCtrl",["$scope","ListType","ListTypeReport","ExportedFiles",function(e,t,a,i){e.refresh=function(){e.getExportableReport(),e.getExportedFiles()},e.getExportableReport=function(){t.getData().then(function(t){e.listtypes={},t.forEach(function(t){a.getData(t.slug).then(function(a){var i={slug:t.slug,display:t.display_name,completed:a.completed,dequeued:a.dequeued};e.listtypes[i.slug]=i})})})},e.getExportedFiles=function(){i.getData().then(function(t){e.updateFilesToDownload(t)})},e.doExport=function(){i.doExport().then(function(t){e.updateFilesToDownload(t),e.getExportableReport()})},e.updateFilesToDownload=function(t){e.filesToDownload={},t.forEach(function(t){var a={filename:t.filename,URL:t.URL};e.filesToDownload[t.filename]=a})},e.listtypes={},e.filesToDownload={},e.refresh()}]);var ecExportDirectives=angular.module("ecExportDirectives",[]);ecExportDirectives.directive("ecReportRow",function(){return{restrict:"A",scope:{data:"="},template:"  <th>{{ data.display }}</th>  <td>{{ data.completed }}</td>  <td>{{ data.dequeued }}</td>"}}),ecExportDirectives.directive("ecFileDownloadItem",function(){return{restrict:"A",scope:{data:"="},template:'  {{ data.filename }}  <a class="btn btn-default btn-xs pull-right" href="{{ data.URL }}" role="button">    <i class="fa fa-cloud-download"></i> download  </a>'}});var ecExportServices=angular.module("ecExportServices",["restangular"]);ecExportServices.factory("ListType",["$q","Restangular",function(e,t){return{getData:function(){var a=e.defer();return t.all("list_types/").getList().then(function(e){a.resolve(e)}),a.promise}}}]),ecExportServices.factory("ListTypeReport",["$q","Restangular",function(e,t){return{getData:function(a){var i=e.defer();return t.all("list_types/").one(a+"/report/").get().then(function(e){i.resolve(e)}),i.promise}}}]),ecExportServices.factory("ExportedFiles",["$q","Restangular",function(e,t){return{getData:function(a){var i=e.defer();return t.all("call_records/").one("exported/").get().then(function(e){i.resolve(e)}),i.promise},doExport:function(a){var i=e.defer();return t.all("call_records/").one("exported/").put({},{"X-CSRFToken":csrf_token}).then(function(e){i.resolve(e)}),i.promise}}}]);var ecQueue=angular.module("ecQueue",["restangular","ecQueueControllers","ecQueueDirectives","ecQueueServices"]),ecQueueControllers=angular.module("ecQueueControllers",[]);ecQueueControllers.controller("queueCtrl",["$scope","ListType","ListTypeReport",function(e,t,a){e.refresh=function(){t.getData().then(function(t){e.listtypes={},t.forEach(function(t){a.getData(t.slug).then(function(a){var i={slug:t.slug,display:t.display_name,inprogress:a.inprogress,"new":a["new"],queued:a.queued};e.listtypes[i.slug]=i})})})},e.doqueue=function(t){var i=t.slug;a.doQueue(i).then(function(a){t.completed=a.completed,t.dequeued=a.dequeued,t.inprogress=a.inprogress,t["new"]=a["new"],t.queued=a.queued,e.listtypes[i]=t})},e.listtypes=[],e.refresh()}]);var ecQueueDirectives=angular.module("ecQueueDirectives",[]);ecQueueDirectives.directive("ecReportRow",function(){return{restrict:"A",scope:{data:"=",queuefunc:"&"},template:'  <th>{{ data.display }}</th>  <td>{{ data.new }}</td>  <td>{{ data.inprogress }}</td>  <td class="info">{{ data.queued }}</td>  <td>    <button class="btn btn-sm btn-primary pull-right" type="button"            ng-click="queue()">Queue</button>  </td>',link:function(e,t,a){e.queue=function(){e.queuefunc({list:e.data})}}}});var ecQueueServices=angular.module("ecQueueServices",["restangular"]);ecQueueServices.factory("ListType",["$q","Restangular",function(e,t){return{getData:function(){var a=e.defer();return t.all("list_types/").getList().then(function(e){a.resolve(e)}),a.promise}}}]),ecQueueServices.factory("ListTypeReport",["$q","Restangular",function(e,t){return{getData:function(a){var i=e.defer();return t.all("list_types/").one(a+"/report/").get().then(function(e){i.resolve(e)}),i.promise},doQueue:function(a){var i=e.defer();return t.all("list_types/").one(a+"/report/").put({},{"X-CSRFToken":csrf_token}).then(function(e){i.resolve(e)}),i.promise}}}]);var ecSearch=angular.module("ecSearch",["restangular","ecSearchControllers","ecSearchDirectives","ecSearchServices"]),ecSearchControllers=angular.module("ecSearchControllers",[]);ecSearchControllers.controller("searchCtrl",["$scope","CallRecord",function(e,t){var a=function(a){t.getList({search:a}).then(function(t){e.data=t})};e.dequeue=function(i){t.one(i).get().then(function(t){t.status="dq",t.put({},{"X-CSRFToken":csrf_token}).then(function(t){a(e.searchString)},function(e){console.log("Error with status code",e.status)})})},e.onChange=function(){e.searchString.length>2&&a(e.searchString)},e.$watch("data",function(t,a){t?t.length<1?e.noresults=!0:e.noresults=!1:e.noresults=!0})}]);var ecSearchDirectives=angular.module("ecSearchDirectives",[]);ecSearchDirectives.directive("ecSearchResult",function(){return{restrict:"E",scope:{data:"=",dequeue:"&"},template:'<div class="row">  <h2 class="list-group-item-heading col-xs-8 col-md-7">SN: {{ data.serial_number }}</h2>  <h4 class="list-group-item-sub-heading pull-right">    {{ data.list_type_display }} <span ng-class="labelClass()">{{ data.status_display }}</span>  </h4></div><h4>{{ full_name }}</h4><ec-tel-compressed day="data.tel_day" evening="data.tel_evening" work="data.tel_work"                   mobile="data.tel_mobile"></ec-tel-compressed><ec-address-compressed addr1="data.address_1" addr2="data.address_3" addr3="data.address_3"                       suburb="data.suburb" city="data.city" postcode="data.postcode"></ec-address-compressed><button type="button" class="btn btn-default btn-md pull-right"        ng-click="handleclick()">  <span class="glyphicon glyphicon-eject" aria-hidden="true">  </span> Dequeue</button>',link:function(e,t,a){function i(){var t="";return e.data.name_prefix&&(t=t+e.data.name_prefix+" "),e.data.name_first&&(t=t+e.data.name_first+" "),e.data.name_middle&&(t=t+e.data.name_middle+" "),e.data.name_family&&(t=t+e.data.name_family+" "),e.data.name_suffix&&(t+=e.data.name_suffix),t}var d=angular.element(t.find("button"));"nw"!==e.data.status&&"ip"!==e.data.status&&d.attr("disabled","disabled"),e.handleclick=function(){e.dequeue({id:e.data.id})},e.labelClass=function(){return"nw"===e.data.status?"label label-success":"ip"===e.data.status?"label label-info":"cp"===e.data.status?"label label-primary":"label label-default"},e.full_name=i()}}}),ecSearchDirectives.directive("ecTelCompressed",function(){return{restrict:"E",scope:{day:"=",evening:"=",work:"=",mobile:"="},template:'<p class="list-group-item-text phone-numbers row">  <span ng-class="spanclass" ng-if="day"><em>(DAY)</em>{{ day }}</span>  <span ng-class="spanclass" ng-if="evening"><em>(EVE)</em>{{ evening }}</span>  <span ng-class="spanclass" ng-if="work"><em>(WORK)</em>{{ work }}</span>  <span ng-class="spanclass" ng-if="mobile"><em>(MOB)</em>{{ mobile }}</span></p>',link:function(e,t,a){e.spanclass="col-xs-10 col-sm-6 col-lg-4"}}}),ecSearchDirectives.directive("ecAddressCompressed",function(){return{restrict:"E",scope:{addr1:"=",addr2:"=",addr3:"=",suburb:"=",city:"=",postcode:"="},template:'<div class="row">  <ul class="list-unstyled col-xs-10 col-sm-6 address">    <li ng-if="addr1">{{ addr1 }}</li>    <li ng-if="addr2">{{ addr2 }}</li>    <li ng-if="addr3">{{ addr3 }}</li>    <li ng-if="suburb">{{ suburb }}</li>    <li>      <span ng-if="city">{{ city }}</span>      <span ng-if="postcode">, {{ postcode }}</span>    </li>  </ul></div>'}});var ecSearchServices=angular.module("ecSearchServices",["restangular"]);ecSearchServices.factory("CallRecord",["Restangular",function(e){return e.service("call_records")}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2NhbGwvYXBwLmpzIiwianMvY2FsbC9jb250cm9sbGVycy5qcyIsImpzL2NhbGwvZGlyZWN0aXZlcy5qcyIsImpzL2NhbGwvZmlsdGVycy5qcyIsImpzL2V4cG9ydC9hcHAuanMiLCJqcy9leHBvcnQvY29udHJvbGxlcnMuanMiLCJqcy9leHBvcnQvZGlyZWN0aXZlcy5qcyIsImpzL2V4cG9ydC9zZXJ2aWNlcy5qcyIsImpzL3F1ZXVlL2FwcC5qcyIsImpzL3F1ZXVlL2NvbnRyb2xsZXJzLmpzIiwianMvcXVldWUvZGlyZWN0aXZlcy5qcyIsImpzL3F1ZXVlL3NlcnZpY2VzLmpzIiwianMvc2VhcmNoL2FwcC5qcyIsImpzL3NlYXJjaC9jb250cm9sbGVycy5qcyIsImpzL3NlYXJjaC9kaXJlY3RpdmVzLmpzIiwianMvc2VhcmNoL3NlcnZpY2VzLmpzIl0sIm5hbWVzIjpbImVjQXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiZGphbmdvU3RhdGljIiwiY29udHJvbGxlciIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJlY0FwcENvbnRyb2xsZXJzIiwiJHNjb3BlIiwiUmVzdGFuZ3VsYXIiLCJhbGwiLCJnZXRMaXN0IiwidGhlbiIsInR5cGVzIiwiJHJvdXRlUGFyYW1zIiwib25lIiwiY2FsbENhdCIsImdldCIsImNhbGxUeXBlIiwiJHEiLCIkd2luZG93IiwiZ2V0TmV4dFJlY29yZCIsImRlZmVycmVkIiwiZGVmZXIiLCJyZWNvcmQiLCJkZW1vZ3JhcGhpY3MiLCJyZXNvbHZlIiwicmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwic3RhdHVzIiwicmVqZWN0IiwibG9jYXRpb24iLCJocmVmIiwicHJvbWlzZSIsImdldFVzZXJOb3RlcyIsImlkIiwidXNlcm5vdGVzIiwiZ2V0U3lzdGVtTm90ZXMiLCJzeXN0ZW1ub3RlcyIsImdldEV4dHJhSW5mbyIsImV4dHJhIiwiZ2V0Q2FsbCIsImNhbGwiLCJjcmVhdGVOb3RlIiwidGV4dCIsInJlY29yZElkIiwibm90ZXMiLCJuZXdOb3RlIiwicG9zdCIsIlgtQ1NSRlRva2VuIiwiY3NyZl90b2tlbiIsImRlbGV0ZU5vdGUiLCJub3RlIiwicmVtb3ZlIiwidXBkYXRlTm90ZSIsImRhdGEiLCJwdXQiLCJ1cGRhdGVTeXNOb3RlcyIsImNhbGxfcmVjb3JkIiwicmVjbm90ZXMiLCJub3RlMSIsIm5vdGUyIiwibm90ZTMiLCJ1cGRhdGVDYWxsIiwiYnV0dG9uIiwicGsiLCJjYWxsaW5mbyIsImRhdGExIiwiZGF0YTIiLCJkYXRhMyIsImRhdGE0IiwiZGF0YTUiLCJkYXRhNiIsImRhdGE3IiwiZGF0YTgiLCJyZXN1bHQiLCJuZXh0IiwidXBkYXRlUmVjb3JkIiwicmVjb3JkaW5mbyIsIm5hbWVfcHJlZml4IiwibmFtZV9taWRkbGUiLCJuYW1lX2ZhbWlseSIsIm5hbWVfc3VmZml4IiwidGVsX2RheSIsInRlbF9ldmVuaW5nIiwidGVsX3dvcmsiLCJ0ZWxfbW9iaWxlIiwiYWRkcmVzc18xIiwiYWRkcmVzc18yIiwiYWRkcmVzc18zIiwic3VidXJiIiwiY2l0eSIsInBvc3Rjb2RlIiwiZG9fbm90X21haWxfcmVhc29uIiwiZGF0ZV9vZl9iaXJ0aCIsImFnZSIsImVjQXBwRGlyZWN0aXZlcyIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJ0ZW1wbGF0ZSIsImhlYWRpbmciLCJzYXZlZnVuYyIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJub3RlVGV4dCIsInZpZXdpbmciLCJlZGl0IiwiZmluZCIsInByb3AiLCJkZWxldGVmdW5jIiwidXBkYXRlZnVuYyIsImVkaXRpbmciLCJoZWFkZXIiLCJiYWRnZSIsImJ1dHRvbnMiLCJzdWJtaXQiLCJkaXNwbGF5X25hbWUiLCJsaW5rZnVuYyIsImJ0bmNsYXNzIiwiY2F0IiwiYmFzZSIsImNvbmNhdCIsImFkZG9uIiwidmFsdWUiLCJnbHlwaGNsYXNzIiwibGFiZWwiLCJyZWFkb25seSIsImlucHV0IiwiYXR0ciIsImVjQXBwRmlsdGVycyIsImVjUXVldWUiLCJlY0V4cG9ydENvbnRyb2xsZXJzIiwiTGlzdFR5cGUiLCJMaXN0VHlwZVJlcG9ydCIsIkV4cG9ydGVkRmlsZXMiLCJyZWZyZXNoIiwiZ2V0RXhwb3J0YWJsZVJlcG9ydCIsImdldEV4cG9ydGVkRmlsZXMiLCJnZXREYXRhIiwibGlzdF90eXBlcyIsImxpc3R0eXBlcyIsImZvckVhY2giLCJzbHVnIiwidHlwZUluZm8iLCJkaXNwbGF5IiwiY29tcGxldGVkIiwiZGVxdWV1ZWQiLCJmaWxlcyIsInVwZGF0ZUZpbGVzVG9Eb3dubG9hZCIsImRvRXhwb3J0IiwiZmlsZXNUb0Rvd25sb2FkIiwidGhlZmlsZSIsImZpbGVuYW1lIiwiVVJMIiwiZWNFeHBvcnREaXJlY3RpdmVzIiwiZWNFeHBvcnRTZXJ2aWNlcyIsImZhY3RvcnkiLCJlY1F1ZXVlQ29udHJvbGxlcnMiLCJpbnByb2dyZXNzIiwibmV3IiwicXVldWVkIiwiZG9xdWV1ZSIsImRvUXVldWUiLCJlY1F1ZXVlRGlyZWN0aXZlcyIsInF1ZXVlZnVuYyIsInF1ZXVlIiwibGlzdCIsImVjUXVldWVTZXJ2aWNlcyIsImVjU2VhcmNoIiwiZWNTZWFyY2hDb250cm9sbGVycyIsIkNhbGxSZWNvcmQiLCJkb1NlYXJjaCIsInNlYXJjaHN0cmluZyIsInNlYXJjaCIsImNhbGxfcmVjb3JkcyIsImRlcXVldWUiLCJyZWMiLCJzZWFyY2hTdHJpbmciLCJvbkNoYW5nZSIsImxlbmd0aCIsIiR3YXRjaCIsIm5ld1ZhbCIsIm9sZFZhbCIsIm5vcmVzdWx0cyIsImVjU2VhcmNoRGlyZWN0aXZlcyIsImNhbGNuYW1lIiwibmFtZSIsIm5hbWVfZmlyc3QiLCJoYW5kbGVjbGljayIsImxhYmVsQ2xhc3MiLCJmdWxsX25hbWUiLCJkYXkiLCJldmVuaW5nIiwid29yayIsIm1vYmlsZSIsInNwYW5jbGFzcyIsImFkZHIxIiwiYWRkcjIiLCJhZGRyMyIsImVjU2VhcmNoU2VydmljZXMiLCJzZXJ2aWNlIl0s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IjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGVjQXBwID0gYW5ndWxhci5tb2R1bGUoJ2VjQXBwJywgW1xuICAnbmdSb3V0ZScsXG4gICdyZXN0YW5ndWxhcicsXG4gICdlY0FwcENvbnRyb2xsZXJzJyxcbiAgJ2VjQXBwRGlyZWN0aXZlcycsXG4gICdlY0FwcEZpbHRlcnMnXG5dKTtcblxuZWNBcHAuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLFxuICBmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuICAgICRyb3V0ZVByb3ZpZGVyLlxuICAgICAgd2hlbignL3JlYWR5Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogZGphbmdvU3RhdGljICsgJ3BhcnRpYWxzL2NhbGwvcmVhZHkuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdyZWFkeUN0cmwnXG4gICAgICB9KS5cbiAgICAgIHdoZW4oJy9jYWxsLzpjYWxsQ2F0Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogZGphbmdvU3RhdGljICsgJ3BhcnRpYWxzL2NhbGwvY2FsbC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2NhbGxDdHJsJ1xuICAgICAgfSkuXG4gICAgICB3aGVuKCcvY2FsbC86Y2FsbENhdC9lbXB0eScsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6IGRqYW5nb1N0YXRpYyArICdwYXJ0aWFscy9jYWxsL2NhbGxfZW1wdHkuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjYWxsRW1wdHlDdHJsJ1xuICAgICAgfSkuXG4gICAgICBvdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnL3JlYWR5J1xuICAgICAgfSk7XG4gIH1dKTsiLCIvKiBDb250cm9sbGVycyAqL1xuXG52YXIgZWNBcHBDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdlY0FwcENvbnRyb2xsZXJzJywgWydyZXN0YW5ndWxhciddKTtcblxuXG5lY0FwcENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3JlYWR5Q3RybCcsIFxuICBbJyRzY29wZScsICdSZXN0YW5ndWxhcicsXG4gIGZ1bmN0aW9uKCRzY29wZSwgUmVzdGFuZ3VsYXIpIHtcbiAgICBSZXN0YW5ndWxhci5hbGwoJ2xpc3RfdHlwZXMvJykuZ2V0TGlzdCgpLnRoZW4oZnVuY3Rpb24odHlwZXMpIHtcbiAgICAgICRzY29wZS50eXBlcyA9IHR5cGVzO1xuICAgIH0pO1xuICB9XSk7XG5cblxuZWNBcHBDb250cm9sbGVycy5jb250cm9sbGVyKCdjYWxsRW1wdHlDdHJsJywgXG4gIFsnJHNjb3BlJywgJyRyb3V0ZVBhcmFtcycsICdSZXN0YW5ndWxhcicsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHJvdXRlUGFyYW1zLCBSZXN0YW5ndWxhcikge1xuICAgIFJlc3Rhbmd1bGFyLm9uZSgnbGlzdF90eXBlcy8nICsgJHJvdXRlUGFyYW1zLmNhbGxDYXQgKyAnLycpLmdldCgpLnRoZW4oXG4gICAgICBmdW5jdGlvbihjYWxsVHlwZSkge1xuICAgICAgICAkc2NvcGUuY2FsbFR5cGUgPSBjYWxsVHlwZTtcbiAgICB9KTtcbiAgfV0pO1xuXG5cbmVjQXBwQ29udHJvbGxlcnMuY29udHJvbGxlcignY2FsbEN0cmwnLCBcbiAgWyckc2NvcGUnLCAnJHJvdXRlUGFyYW1zJywgJ1Jlc3Rhbmd1bGFyJywgJyRxJywgJyR3aW5kb3cnLFxuICBmdW5jdGlvbigkc2NvcGUsICRyb3V0ZVBhcmFtcywgUmVzdGFuZ3VsYXIsICRxLCAkd2luZG93KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgUmVzdGFuZ3VsYXIub25lKCdsaXN0X3R5cGVzLycgKyAkcm91dGVQYXJhbXMuY2FsbENhdCArICcvJykuZ2V0KCkudGhlbihcbiAgICAgIGZ1bmN0aW9uKGNhbGxUeXBlKSB7XG4gICAgICAgICRzY29wZS5jYWxsVHlwZSA9IGNhbGxUeXBlO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLmdldE5leHRSZWNvcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIHZhciByZWNvcmQgPSBSZXN0YW5ndWxhci5vbmUoJ2NhbGxfcmVjb3Jkcy8nICsgJHJvdXRlUGFyYW1zLmNhbGxDYXQgKyAnL25leHQvJyk7XG4gICAgICByZWNvcmQuZ2V0KCkudGhlbihcbiAgICAgICAgZnVuY3Rpb24oZGVtb2dyYXBoaWNzKSB7XG4gICAgICAgICAgJHNjb3BlLmRlbW9ncmFwaGljcyA9IGRlbW9ncmFwaGljcztcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igd2l0aCBzdGF0dXMgY29kZVwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcjL2NhbGwvJyArICRyb3V0ZVBhcmFtcy5jYWxsQ2F0ICsgJy9lbXB0eSc7XG4gICAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmdldFVzZXJOb3RlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgUmVzdGFuZ3VsYXIub25lKCdjYWxsX3JlY29yZHMvJyArICRzY29wZS5kZW1vZ3JhcGhpY3MuaWQgKyAnL25vdGVzLycpXG4gICAgICAgIC5nZXQoKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uKHVzZXJub3Rlcykge1xuICAgICAgICAgICAgJHNjb3BlLnVzZXJub3RlcyA9IHVzZXJub3RlcztcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZ2V0U3lzdGVtTm90ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIFJlc3Rhbmd1bGFyLm9uZSgnY2FsbF9yZWNvcmRzLycgKyAkc2NvcGUuZGVtb2dyYXBoaWNzLmlkICsgJy9zeXNub3Rlcy8nKVxuICAgICAgICAuZ2V0KCkudGhlbihcbiAgICAgICAgICBmdW5jdGlvbihzeXN0ZW1ub3Rlcykge1xuICAgICAgICAgICAgJHNjb3BlLnN5c3RlbW5vdGVzID0gc3lzdGVtbm90ZXM7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmdldEV4dHJhSW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgUmVzdGFuZ3VsYXIub25lKCdjYWxsX3JlY29yZHMvJyArICRzY29wZS5kZW1vZ3JhcGhpY3MuaWQgKyAnL2V4dHJhLycpXG4gICAgICAgIC5nZXQoKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uKGV4dHJhKSB7XG4gICAgICAgICAgICAkc2NvcGUuZXh0cmEgPSBleHRyYTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZ2V0Q2FsbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgUmVzdGFuZ3VsYXIub25lKCdjYWxsLycgKyAkc2NvcGUuZGVtb2dyYXBoaWNzLmNhbGwgKyAnLycpXG4gICAgICAgIC5nZXQoKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uKGNhbGwpIHtcbiAgICAgICAgICAgICRzY29wZS5jYWxsID0gY2FsbDtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlTm90ZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHZhciByZWNvcmRJZCA9ICRzY29wZS5kZW1vZ3JhcGhpY3MuaWQ7XG4gICAgICB2YXIgbm90ZXMgPSBSZXN0YW5ndWxhci5vbmUoJ2NhbGxfcmVjb3JkcycsIHJlY29yZElkKS5hbGwoJ25vdGVzLycpO1xuICAgICAgXG4gICAgICB2YXIgbmV3Tm90ZSA9IHt0ZXh0OiB0ZXh0fTtcbiAgICAgIG5vdGVzLnBvc3QobmV3Tm90ZSwge30sIHtcIlgtQ1NSRlRva2VuXCI6IGNzcmZfdG9rZW59KS50aGVuKFxuICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vdGUgY3JlYXRlZC5cIik7XG4gICAgICAgICAgJHNjb3BlLmdldFVzZXJOb3RlcygpO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIHdpdGggc3RhdHVzIGNvZGVcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5kZWxldGVOb3RlID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBub3RlID0gUmVzdGFuZ3VsYXIub25lKCd1c2VyX25vdGVzLycgKyBpZCArICcvJyk7XG4gICAgICBcbiAgICAgIG5vdGUucmVtb3ZlKHt9LCB7XCJYLUNTUkZUb2tlblwiOiBjc3JmX3Rva2VufSkudGhlbihcbiAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJOb3RlIGRlbGV0ZWQuXCIpO1xuICAgICAgICAgICRzY29wZS5nZXRVc2VyTm90ZXMoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciB3aXRoIHN0YXR1cyBjb2RlXCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXBkYXRlTm90ZSA9IGZ1bmN0aW9uKGlkLCB0ZXh0KSB7XG4gICAgICB2YXIgbm90ZSA9IFJlc3Rhbmd1bGFyLm9uZSgndXNlcl9ub3Rlcy8nICsgaWQgKyAnLycpO1xuICAgICAgbm90ZS5nZXQoKS50aGVuKFxuICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgZGF0YS50ZXh0ID0gdGV4dDtcbiAgICAgICAgICBkYXRhLnB1dCh7fSwge1wiWC1DU1JGVG9rZW5cIjogY3NyZl90b2tlbn0pLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3RlIHVwZGF0ZWQuXCIpO1xuICAgICAgICAgICAgICAkc2NvcGUuZ2V0VXNlck5vdGVzKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciB3aXRoIHN0YXR1cyBjb2RlXCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVTeXNOb3RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHZhciBpZCA9IGRhdGEuY2FsbF9yZWNvcmQ7XG4gICAgICB2YXIgbm90ZXMgPSBSZXN0YW5ndWxhci5vbmUoJ2NhbGxfcmVjb3Jkcy8nICsgaWQgKyAnL3N5c25vdGVzLycpO1xuICAgICAgbm90ZXMuZ2V0KCkudGhlbihcbiAgICAgICAgZnVuY3Rpb24ocmVjbm90ZXMpIHtcbiAgICAgICAgICByZWNub3Rlcy5ub3RlMSA9IGRhdGEubm90ZTE7XG4gICAgICAgICAgcmVjbm90ZXMubm90ZTIgPSBkYXRhLm5vdGUyO1xuICAgICAgICAgIHJlY25vdGVzLm5vdGUzID0gZGF0YS5ub3RlMztcbiAgICAgICAgICByZWNub3Rlcy5wdXQoe30sIHtcIlgtQ1NSRlRva2VuXCI6IGNzcmZfdG9rZW59KS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3lzdGVtIE5vdGVzIHVwZGF0ZWQuXCIpO1xuICAgICAgICAgICAgICAkc2NvcGUuZ2V0U3lzdGVtTm90ZXMoKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIHdpdGggc3RhdHVzIGNvZGVcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVwZGF0ZUNhbGwgPSBmdW5jdGlvbihkYXRhLCBidXR0b24pIHtcbiAgICAgIHZhciBpZCA9IGRhdGEucGs7XG4gICAgICB2YXIgY2FsbCA9IFJlc3Rhbmd1bGFyLm9uZSgnY2FsbC8nICsgaWQgKyAnLycpO1xuICAgICAgY2FsbC5nZXQoKS50aGVuKFxuICAgICAgICBmdW5jdGlvbihjYWxsaW5mbykge1xuICAgICAgICAgIGNhbGxpbmZvLmRhdGExID0gZGF0YS5kYXRhMTtcbiAgICAgICAgICBjYWxsaW5mby5kYXRhMiA9IGRhdGEuZGF0YTI7XG4gICAgICAgICAgY2FsbGluZm8uZGF0YTMgPSBkYXRhLmRhdGEzO1xuICAgICAgICAgIGNhbGxpbmZvLmRhdGE0ID0gZGF0YS5kYXRhNDtcbiAgICAgICAgICBjYWxsaW5mby5kYXRhNSA9IGRhdGEuZGF0YTU7XG4gICAgICAgICAgY2FsbGluZm8uZGF0YTYgPSBkYXRhLmRhdGE2O1xuICAgICAgICAgIGNhbGxpbmZvLmRhdGE3ID0gZGF0YS5kYXRhNztcbiAgICAgICAgICBjYWxsaW5mby5kYXRhOCA9IGRhdGEuZGF0YTg7XG4gICAgICAgICAgY2FsbGluZm8ucmVzdWx0ID0gYnV0dG9uO1xuXG4gICAgICAgICAgY2FsbGluZm8ucHV0KHt9LCB7XCJYLUNTUkZUb2tlblwiOiBjc3JmX3Rva2VufSkudGhlbihcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhbGwgdXBkYXRlZC5cIik7XG4gICAgICAgICAgICAgICRzY29wZS5uZXh0KCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciB3aXRoIHN0YXR1cyBjb2RlXCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVSZWNvcmQgPSBmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgIHZhciByZWNvcmQgPSBSZXN0YW5ndWxhci5vbmUoJ2NhbGxfcmVjb3JkcycpO1xuICAgICAgcmVjb3JkLmlkID0gZGF0YS5pZDtcbiAgICAgIHJlY29yZC5nZXQoKS50aGVuKFxuICAgICAgICBmdW5jdGlvbihyZWNvcmRpbmZvKSB7XG4gICAgICAgICAgcmVjb3JkaW5mby5uYW1lX3ByZWZpeCA9IGRhdGEubmFtZV9wcmVmaXhcbiAgICAgICAgICByZWNvcmRpbmZvLm5hbWVfbWlkZGxlID0gZGF0YS5uYW1lX21pZGRsZVxuICAgICAgICAgIHJlY29yZGluZm8ubmFtZV9mYW1pbHkgPSBkYXRhLm5hbWVfZmFtaWx5XG4gICAgICAgICAgcmVjb3JkaW5mby5uYW1lX3N1ZmZpeCA9IGRhdGEubmFtZV9zdWZmaXhcbiAgICAgICAgICByZWNvcmRpbmZvLnRlbF9kYXkgPSBkYXRhLnRlbF9kYXlcbiAgICAgICAgICByZWNvcmRpbmZvLnRlbF9ldmVuaW5nID0gZGF0YS50ZWxfZXZlbmluZ1xuICAgICAgICAgIHJlY29yZGluZm8udGVsX3dvcmsgPSBkYXRhLnRlbF93b3JrXG4gICAgICAgICAgcmVjb3JkaW5mby50ZWxfbW9iaWxlID0gZGF0YS50ZWxfbW9iaWxlXG4gICAgICAgICAgcmVjb3JkaW5mby5hZGRyZXNzXzEgPSBkYXRhLmFkZHJlc3NfMVxuICAgICAgICAgIHJlY29yZGluZm8uYWRkcmVzc18yID0gZGF0YS5hZGRyZXNzXzJcbiAgICAgICAgICByZWNvcmRpbmZvLmFkZHJlc3NfMyA9IGRhdGEuYWRkcmVzc18zXG4gICAgICAgICAgcmVjb3JkaW5mby5zdWJ1cmIgPSBkYXRhLnN1YnVyYlxuICAgICAgICAgIHJlY29yZGluZm8uY2l0eSA9IGRhdGEuY2l0eVxuICAgICAgICAgIHJlY29yZGluZm8ucG9zdGNvZGUgPSBkYXRhLnBvc3Rjb2RlXG4gICAgICAgICAgcmVjb3JkaW5mby5kb19ub3RfbWFpbF9yZWFzb24gPSBkYXRhLmRvX25vdF9tYWlsX3JlYXNvblxuICAgICAgICAgIHJlY29yZGluZm8uZGF0ZV9vZl9iaXJ0aCA9IGRhdGEuZGF0ZV9vZl9iaXJ0aFxuICAgICAgICAgIHJlY29yZGluZm8uYWdlID0gZGF0YS5hZ2VcbiAgICAgICAgICByZWNvcmRpbmZvLnB1dCh7fSwge1wiWC1DU1JGVG9rZW5cIjogY3NyZl90b2tlbn0pLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3RlIHVwZGF0ZWQuXCIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3Igd2l0aCBzdGF0dXMgY29kZVwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuZ2V0TmV4dFJlY29yZCgpXG4gICAgICAgIC50aGVuKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuZ2V0VXNlck5vdGVzKCk7XG4gICAgICAgICAgJHNjb3BlLmdldEV4dHJhSW5mbygpO1xuICAgICAgICAgICRzY29wZS5nZXRTeXN0ZW1Ob3RlcygpO1xuICAgICAgICAgICRzY29wZS5nZXRDYWxsKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgJHNjb3BlLm5leHQoKTtcblxuICB9XSk7IiwiLyogRGlyZWN0aXZlcyAqL1xuXG52YXIgZWNBcHBEaXJlY3RpdmVzID0gYW5ndWxhci5tb2R1bGUoJ2VjQXBwRGlyZWN0aXZlcycsIFtdKTtcblxuXG5lY0FwcERpcmVjdGl2ZXMuZGlyZWN0aXZlKCdlY0V4dHJhTGlzdCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkFcIixcbiAgICBzY29wZToge1xuICAgICAgZGF0YTogXCI9XCIsXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMV9kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQxX2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDFcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMl9kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQyX2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDJcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkM19kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQzX2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDNcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkNF9kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQ0X2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDRcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkNV9kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQ1X2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDVcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkNl9kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQ2X2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDZcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkN19kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQ3X2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDdcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkOF9kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQ4X2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDhcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkOV9kaXNwbGF5XCIgZWMtZXh0cmEgaGVhZGluZz1cImRhdGEuZmllbGQ5X2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5maWVsZDlcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTBfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTBfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTBcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTFfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTFfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTFcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTJfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTJfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTJcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTNfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTNfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTNcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTRfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTRfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTRcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTVfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTVfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTVcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTZfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTZfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTZcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTdfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTdfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTdcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMThfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMThfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMThcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMTlfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMTlfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMTlcIiBjbGFzcz1cInJvd1wiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctaWY9XCJkYXRhLmZpZWxkMjBfZGlzcGxheVwiIGVjLWV4dHJhIGhlYWRpbmc9XCJkYXRhLmZpZWxkMjBfZGlzcGxheVwiIHRleHQ9XCJkYXRhLmZpZWxkMjBcIiBjbGFzcz1cInJvd1wiPjwvZGl2PidcbiAgfTtcbn0pO1xuXG5cbmVjQXBwRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2VjRXh0cmEnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJBXCIsXG4gICAgc2NvcGU6IHtcbiAgICAgIGhlYWRpbmc6IFwiPVwiLFxuICAgICAgdGV4dDogXCI9XCIsXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogJzxlbSBjbGFzcz1cImNvbC14cy0zIGl0ZW0taGVhZGluZ1wiPnt7aGVhZGluZ319PC9lbT48c3BhbiBjbGFzcz1cImNvbC14cy05XCI+e3t0ZXh0fX08L3NwYW4+J1xuICB9O1xufSk7XG5cblxuXG5lY0FwcERpcmVjdGl2ZXMuZGlyZWN0aXZlKCdlY0FkZE5vdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgc2F2ZWZ1bmM6IFwiJlwiLFxuICAgICAgICB9LFxuXG4gICAgICAgIHRlbXBsYXRlOiAnPGZvcm0gY2xhc3M9XCJmb3JtLWhvcml6b250YWxcIj4nICtcbiAgICAgICAgICAnIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCIgbmctaGlkZT1cInZpZXdpbmdcIj4nICtcbiAgICAgICAgICAnICAgPGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPicgK1xuICAgICAgICAgICcgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbFwiIHJvd3M9XCI0XCIgIGlkPVwibm90ZVwiICcgK1xuICAgICAgICAgICcgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5vdGUgVGV4dCBoZXJlXCIgbmctbW9kZWw9XCJub3RlVGV4dFwiPicgK1xuICAgICAgICAgICcgICAgIDwvdGV4dGFyZWE+JyArXG4gICAgICAgICAgJyAgIDwvZGl2PicgK1xuICAgICAgICAgICcgPC9kaXY+JyArXG4gICAgICAgICAgJyA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+JyArXG4gICAgICAgICAgJyAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tbWQgYnRuLWRlZmF1bHRcIiBuZy1jbGljaz1cImVkaXQobm90ZVRleHQpXCI+JyArXG4gICAgICAgICAgJyAgICAgTmV3IE5vdGU8L2J1dHRvbj4nICtcbiAgICAgICAgICAnICAgPC9kaXY+JyArXG4gICAgICAgICAgJyA8L2Rpdj4nLFxuXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgICAgIHNjb3BlLm5vdGVUZXh0ID0gJyc7XG4gICAgICAgICAgc2NvcGUudmlld2luZyA9IHRydWU7XG5cbiAgICAgICAgICBzY29wZS5lZGl0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmZpbmQoJ2J1dHRvbicpKTtcbiAgICAgICAgICAgIGlmIChzY29wZS52aWV3aW5nKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnZpZXdpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnV0dG9uLnByb3AoXCJpbm5lclRleHRcIiwgXCJBZGRcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY29wZS52aWV3aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc2NvcGUuc2F2ZWZ1bmMoeyd0ZXh0JzogdGV4dH0pO1xuICAgICAgICAgICAgICBzY29wZS5ub3RlVGV4dCA9ICcnO1xuICAgICAgICAgICAgICBidXR0b24ucHJvcChcImlubmVyVGV4dFwiLCBcIk5ldyBOb3RlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgIH1cbiAgICB9O1xufSk7XG5cblxuXG5lY0FwcERpcmVjdGl2ZXMuZGlyZWN0aXZlKCdlY1VzZXJOb3RlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgIHNjb3BlOiB7XG4gICAgICBkYXRhOiBcIj1cIixcbiAgICAgIGRlbGV0ZWZ1bmM6IFwiJlwiLFxuICAgICAgdXBkYXRlZnVuYzogXCImXCJcbiAgICB9LFxuICAgIFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICc8c3BhbiBjbGFzcz1cImJhZGdlXCI+e3tkYXRhLmNyZWF0b3JfbmFtZX19PC9zcGFuPicgK1xuICAgICAgJzxoNCBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbS1oZWFkaW5nXCI+e3tkYXRhLnByZXR0eV9kYXRlfX08L2g0PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCIuY29udGFpbmVyLWZsdWlkXCI+JyArXG4gICAgICAnICA8ZGl2IGNsYXNzPVwicm93XCIgbmctaGlkZT1cImVkaXRpbmdcIj4nICtcbiAgICAgICcgICAgPHAgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0tdGV4dCBjb2wteHMtOVwiPnt7ZGF0YS50ZXh0fX08L3A+JyArXG4gICAgICAnICAgIDxkaXYgY2xhc3M9XCJjb2wteHMtMyBidXR0b24tZ3JvdXBcIj4nICtcbiAgICAgICcgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1tZCBidG4tZGVmYXVsdFwiIG5nLWNsaWNrPVwiZWRpdCgpXCI+JyArXG4gICAgICAnICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tcGVuY2lsXCI+PC9idXR0b24+JyArXG4gICAgICAnICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tbWQgYnRuLWRlZmF1bHRcIiBuZy1jbGljaz1cImRlbGV0ZWZ1bmMoe2lkOiBkYXRhLnBrfSlcIj4nICtcbiAgICAgICcgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10cmFzaFwiPjwvYnV0dG9uPicgK1xuICAgICAgJyAgICA8L2Rpdj4nICtcbiAgICAgICcgIDwvZGl2PicgK1xuICAgICAgJyAgPGRpdiBjbGFzcz1cInJvd1wiIG5nLWhpZGU9XCJ2aWV3aW5nXCI+JyArXG4gICAgICAnICAgIDxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj4nICtcbiAgICAgICcgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiByb3dzPVwiNFwiICBpZD1cIm5vdGVcIiAnICtcbiAgICAgICcgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJOb3RlIFRleHQgaGVyZVwiIG5nLW1vZGVsPVwiZGF0YS50ZXh0XCI+JyArXG4gICAgICAnICAgICAgPC90ZXh0YXJlYT4nICtcbiAgICAgICcgICAgPC9kaXY+JyArXG4gICAgICAnICA8L2Rpdj4nICtcbiAgICAgICcgIDxkaXYgY2xhc3M9XCJyb3dcIiBuZy1oaWRlPVwidmlld2luZ1wiPicgK1xuICAgICAgJyAgICA8ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+JyArXG4gICAgICAnICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW1kIGJ0bi1kZWZhdWx0XCIgbmctY2xpY2s9XCJlZGl0KClcIj4nICtcbiAgICAgICcgICAgU2F2ZTwvYnV0dG9uPicgK1xuICAgICAgJyAgICA8L2Rpdj4nICtcbiAgICAgICcgIDwvZGl2PicgK1xuICAgICAgJzwvZGl2PicsXG5cbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgICAgIHNjb3BlLnZpZXdpbmcgPSB0cnVlO1xuICAgICAgICAgIHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgIHNjb3BlLmVkaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzY29wZS52aWV3aW5nKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnZpZXdpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgc2NvcGUuZWRpdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY29wZS52aWV3aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICBzY29wZS51cGRhdGVmdW5jKHsndGV4dCc6IHNjb3BlLmRhdGEudGV4dCwgJ2lkJzogc2NvcGUuZGF0YS5wa30pO1xuICAgICAgICAgICAgICAvLyBzY29wZS5ub3RlVGV4dCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICB9XG4gIH07XG59KTtcblxuXG5lY0FwcERpcmVjdGl2ZXMuZGlyZWN0aXZlKCdzeXNub3RlcycsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgZGF0YTogJz0nLFxuICAgICAgICAgICAgdXBkYXRlZnVuYzogJyYnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj4nICtcbiAgICAgICAgICAgICcgIDwhLS0gRGVmYXVsdCBwYW5lbCBjb250ZW50cyAtLT4nICtcbiAgICAgICAgICAgICcgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+JyArXG4gICAgICAgICAgICAnICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCInICtcbiAgICAgICAgICAgICcgICAgICAgICAgICBuZy1jbGljaz1cImVkaXQoKVwiPkVkaXQ8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICcgICAgPGg0PlN5c3RlbSBOb3RlczwvaDQ+JyArXG4gICAgICAgICAgICAnICAgIDxkaXYgc3R5bGU9XCJjbGVhcjogYm90aDtcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICcgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgPCEtLSBMaXN0IGdyb3VwIC0tPicgK1xuICAgICAgICAgICAgJyAgPGRpdiBjbGFzcz1cImxpc3QtZ3JvdXBcIj4nICtcbiAgICAgICAgICAgICcgICAgPHN5c25vdGUgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIiBlZGl0aW5nPVwiZWRpdGluZ1wiJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgIGhlYWRlcj1cImRhdGEubm90ZTFfZGlzcGxheVwiIHRleHQ9XCJkYXRhLm5vdGUxXCInK1xuICAgICAgICAgICAgJyAgICAgICAgICAgICBiYWRnZT1cIkNSTVwiIG5nLWlmPVwiZGF0YS5ub3RlMV9kaXNwbGF5XCI+PC9zeXNub3RlPicgK1xuICAgICAgICAgICAgJyAgICA8c3lzbm90ZSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiIGVkaXRpbmc9XCJlZGl0aW5nXCInICtcbiAgICAgICAgICAgICcgICAgICAgICAgICAgaGVhZGVyPVwiZGF0YS5ub3RlMl9kaXNwbGF5XCIgdGV4dD1cImRhdGEubm90ZTJcIicrXG4gICAgICAgICAgICAnICAgICAgICAgICAgIGJhZGdlPVwiQ1JNXCIgbmctaWY9XCJkYXRhLm5vdGUyX2Rpc3BsYXlcIj48L3N5c25vdGU+JyArXG4gICAgICAgICAgICAnICAgIDxzeXNub3RlIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCIgZWRpdGluZz1cImVkaXRpbmdcIicgK1xuICAgICAgICAgICAgJyAgICAgICAgICAgICBoZWFkZXI9XCJkYXRhLm5vdGUzX2Rpc3BsYXlcIiB0ZXh0PVwiZGF0YS5ub3RlM1wiJytcbiAgICAgICAgICAgICcgICAgICAgICAgICAgYmFkZ2U9XCJDUk1cIiBuZy1pZj1cImRhdGEubm90ZTNfZGlzcGxheVwiPjwvc3lzbm90ZT4nICtcbiAgICAgICAgICAgICcgIDwvZGl2PicgKyAgICBcbiAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgYnV0dG9uID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuZmluZCgnYnV0dG9uJykpO1xuICAgICAgICAgICAgc2NvcGUuZWRpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuZWRpdGluZykge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS5lZGl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5wcm9wKFwiaW5uZXJUZXh0XCIsIFwiRWRpdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUudXBkYXRlZnVuYyh7J2RhdGEnOiBzY29wZS5kYXRhfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZWRpdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5wcm9wKFwiaW5uZXJUZXh0XCIsIFwiU2F2ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuXG5cbmVjQXBwRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ3N5c25vdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGVkaXRpbmc6ICc9JyxcbiAgICAgICAgICAgIGhlYWRlcjogJz0nLFxuICAgICAgICAgICAgdGV4dDogJz0nLFxuICAgICAgICAgICAgYmFkZ2U6ICdAJ1xuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJyAgPHNwYW4gY2xhc3M9XCJiYWRnZVwiPnt7YmFkZ2V9fTwvc3Bhbj4nICtcbiAgICAgICAgICAgICcgIDxoNCBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbS1oZWFkaW5nXCI+e3toZWFkZXJ9fTwvaDQ+JyArXG4gICAgICAgICAgICAnICA8c3BhbiBjbGFzcz1cIm5vdGUtdGV4dFwiIG5nLWhpZGU9XCJlZGl0aW5nXCI+e3t0ZXh0fX08L3NwYW4+JyArXG4gICAgICAgICAgICAnICA8dGV4dGFyZWEgbmctc2hvdz1cImVkaXRpbmdcIiByb3dzPVwiNFwiIG5nLW1vZGVsPVwidGV4dFwiJyArXG4gICAgICAgICAgICAnICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiA+PC90ZXh0YXJlYT4nLFxuICAgICAgICAgICAgXG4gICAgfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogIFJlc3VsdHMgSW5wdXQgRmllbGRzIGFuZCBCdXR0b25zXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuZWNBcHBEaXJlY3RpdmVzLmRpcmVjdGl2ZSgnZWNSZXN1bHRTZWN0aW9uJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgIHNjb3BlOiB7XG4gICAgICBjYWxsOiBcIj1cIixcbiAgICAgIGJ1dHRvbnM6IFwiPVwiLFxuICAgICAgdXBkYXRlZnVuYzogXCImXCJcbiAgICB9LFxuICAgIHRlbXBsYXRlOlxuICAgICAgJzxlYy1yZXN1bHQtaW5wdXQtbGlzdCBjYWxsPVwiY2FsbFwiPjwvZWMtcmVzdWx0LWlucHV0LWxpc3Q+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cInJvdyBidXR0b25zXCI+JyArXG4gICAgICAnICA8ZGl2IGNsYXNzPVwiY29sLXhzLTRcIiBuZy1yZXBlYXQ9XCJidXR0b24gaW4gYnV0dG9uc1wiPicgK1xuICAgICAgJyAgICA8YSBlYy1hY3Rpb24tYnV0dG9uIGxpbmtmdW5jPVwic3VibWl0KGJ1dHRvbilcIiBkYXRhPVwiYnV0dG9uXCI+PC9hPicgK1xuICAgICAgJyAgPC9kaXY+ICcgK1xuICAgICAgJzwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJyb3cgYnV0dG9uc1wiPicgK1xuICAgICAgJyAgPGRpdiBjbGFzcz1cImNvbC14cy02XCI+JyArXG4gICAgICAnICAgIDxhIGNsYXNzPVwiYnRuIGJ0bi1ibG9jayBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwibmV4dCgpXCIgcm9sZT1cImJ1dHRvblwiPk5leHQ8L2E+JyArXG4gICAgICAnICA8L2Rpdj4nICtcbiAgICAgICcgIDxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPicgK1xuICAgICAgJyAgICA8YSBjbGFzcz1cImJ0biBidG4tYmxvY2sgYnRuLXByaW1hcnlcIiBocmVmPVwiIy9yZWFkeVwiIHJvbGU9XCJidXR0b25cIj5CcmVhazwvYT4nICtcbiAgICAgICcgIDwvZGl2PicgK1xuICAgICAgJzwvZGl2PicsXG5cbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBzY29wZS5zdWJtaXQgPSBmdW5jdGlvbihidXR0b24pIHtcbiAgICAgICAgc2NvcGUudXBkYXRlZnVuYyh7J2J1dHRvbic6IGJ1dHRvbi5kaXNwbGF5X25hbWUsICdkYXRhJzogc2NvcGUuY2FsbH0pO1xuICAgICAgfTtcbiAgICAgIHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2NvcGUudXBkYXRlZnVuYyh7J2J1dHRvbic6ICdOZXh0JywgJ2RhdGEnOiBzY29wZS5jYWxsfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn0pO1xuXG5cbmVjQXBwRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2VjQWN0aW9uQnV0dG9uJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgIHNjb3BlOiB7XG4gICAgICBsaW5rZnVuYzogXCImXCIsXG4gICAgICBkYXRhOiBcIj1cIixcbiAgICB9LFxuICAgIHRlbXBsYXRlOiAnPGEgJyArXG4gICAgICAnbmctY2xhc3M9XCJidG5jbGFzcyhkYXRhLmNhdGVnb3J5KVwiIHJvbGU9XCJidXR0b25cIiBuZy1jbGljaz1cImxpbmtmdW5jKClcIj4nICtcbiAgICAgICd7e2RhdGEuZGlzcGxheV9uYW1lfX0nICtcbiAgICAgICc8L2E+JyxcblxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSkge1xuICAgICAgc2NvcGUuYnRuY2xhc3MgPSBmdW5jdGlvbihjYXQpIHtcbiAgICAgICAgdmFyIGJhc2UgPSBcImJ0biBidG4tYmxvY2sgYnRuLW1kIFwiO1xuICAgICAgICBpZiAoY2F0ID09PSBcImdkXCIpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZS5jb25jYXQoXCJidG4tc3VjY2Vzc1wiKTtcbiAgICAgICAgfSBlbHNlIGlmIChjYXQgPT09IFwiYmRcIikge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBiYXNlLmNvbmNhdChcImJ0bi1kYW5nZXJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoY2F0ID09PSBcIm50XCIpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZS5jb25jYXQoXCJidG4tZGVmYXVsdFwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChjYXQgPT09IFwiaWNcIikge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBiYXNlLmNvbmNhdChcImJ0bi1wcmltYXJ5XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBiYXNlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59KTtcblxuXG5lY0FwcERpcmVjdGl2ZXMuZGlyZWN0aXZlKCdlY1Jlc3VsdElucHV0TGlzdCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICBzY29wZToge1xuICAgICAgY2FsbDogXCI9XCJcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICc8ZWMtcmVzdWx0LWlucHV0IG5nLWlmPVwiY2FsbC5kYXRhMV9kaXNwbGF5XCInICtcbiAgICAgICcgICAgYWRkb249XCJjYWxsLmRhdGExX2FkZG9uXCIgJyArXG4gICAgICAnICAgIHZhbHVlPVwiY2FsbC5kYXRhMVwiJyArXG4gICAgICAnICAgIHRleHQ9XCJjYWxsLmRhdGExX2Rpc3BsYXlcIj4nICtcbiAgICAgICc8L2VjLXJlc3VsdC1pbnB1dD4nICtcbiAgICAgICc8ZWMtcmVzdWx0LWlucHV0IG5nLWlmPVwiY2FsbC5kYXRhMl9kaXNwbGF5XCInICtcbiAgICAgICcgICAgYWRkb249XCJjYWxsLmRhdGEyX2FkZG9uXCIgJyArXG4gICAgICAnICAgIHZhbHVlPVwiY2FsbC5kYXRhMlwiJyArXG4gICAgICAnICAgIHRleHQ9XCJjYWxsLmRhdGEyX2Rpc3BsYXlcIj4nICtcbiAgICAgICc8L2VjLXJlc3VsdC1pbnB1dD4nICtcbiAgICAgICc8ZWMtcmVzdWx0LWlucHV0IG5nLWlmPVwiY2FsbC5kYXRhM19kaXNwbGF5XCInICtcbiAgICAgICcgICAgYWRkb249XCJjYWxsLmRhdGEzX2FkZG9uXCIgJyArXG4gICAgICAnICAgIHZhbHVlPVwiY2FsbC5kYXRhM1wiJyArXG4gICAgICAnICAgIHRleHQ9XCJjYWxsLmRhdGEzX2Rpc3BsYXlcIj4nICtcbiAgICAgICc8L2VjLXJlc3VsdC1pbnB1dD4nICtcbiAgICAgICc8ZWMtcmVzdWx0LWlucHV0IG5nLWlmPVwiY2FsbC5kYXRhNF9kaXNwbGF5XCInICtcbiAgICAgICcgICAgYWRkb249XCJjYWxsLmRhdGE0X2FkZG9uXCIgJyArXG4gICAgICAnICAgIHZhbHVlPVwiY2FsbC5kYXRhNFwiJyArXG4gICAgICAnICAgIHRleHQ9XCJjYWxsLmRhdGE0X2Rpc3BsYXlcIj4nICtcbiAgICAgICc8L2VjLXJlc3VsdC1pbnB1dD4nICtcbiAgICAgICc8ZWMtcmVzdWx0LWlucHV0IG5nLWlmPVwiY2FsbC5kYXRhNV9kaXNwbGF5XCInICtcbiAgICAgICcgICAgYWRkb249XCJjYWxsLmRhdGE1X2FkZG9uXCIgJyArXG4gICAgICAnICAgIHZhbHVlPVwiY2FsbC5kYXRhNVwiJyArXG4gICAgICAnICAgIHRleHQ9XCJjYWxsLmRhdGE1X2Rpc3BsYXlcIj4nICtcbiAgICAgICc8L2VjLXJlc3VsdC1pbnB1dD4nICtcbiAgICAgICc8ZWMtcmVzdWx0LWlucHV0IG5nLWlmPVwiY2FsbC5kYXRhNl9kaXNwbGF5XCInICtcbiAgICAgICcgICAgYWRkb249XCJjYWxsLmRhdGE2X2FkZG9uXCIgJyArXG4gICAgICAnICAgIHZhbHVlPVwiY2FsbC5kYXRhNlwiJyArXG4gICAgICAnICAgIHRleHQ9XCJjYWxsLmRhdGE2X2Rpc3BsYXlcIj4nICtcbiAgICAgICc8L2VjLXJlc3VsdC1pbnB1dD4nICtcbiAgICAgICc8ZWMtcmVzdWx0LWlucHV0IG5nLWlmPVwiY2FsbC5kYXRhN19kaXNwbGF5XCInICtcbiAgICAgICcgICAgYWRkb249XCJjYWxsLmRhdGE3X2FkZG9uXCIgJyArXG4gICAgICAnICAgIHZhbHVlPVwiY2FsbC5kYXRhN1wiJyArXG4gICAgICAnICAgIHRleHQ9XCJjYWxsLmRhdGE3X2Rpc3BsYXlcIj4nICtcbiAgICAgICc8L2VjLXJlc3VsdC1pbnB1dD4nICtcbiAgICAgICc8ZWMtcmVzdWx0LWlucHV0IG5nLWlmPVwiY2FsbC5kYXRhOF9kaXNwbGF5XCInICtcbiAgICAgICcgICAgYWRkb249XCJjYWxsLmRhdGE4X2FkZG9uXCIgJyArXG4gICAgICAnICAgIHZhbHVlPVwiY2FsbC5kYXRhOFwiJyArXG4gICAgICAnICAgIHRleHQ9XCJjYWxsLmRhdGE4X2Rpc3BsYXlcIj4nICtcbiAgICAgICc8L2VjLXJlc3VsdC1pbnB1dD4nXG4gIH07XG59KTtcblxuXG5lY0FwcERpcmVjdGl2ZXMuZGlyZWN0aXZlKCdlY1Jlc3VsdElucHV0JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgIHNjb3BlOiB7XG4gICAgICBhZGRvbjogXCI9XCIsXG4gICAgICB2YWx1ZTogXCI9XCIsXG4gICAgICB0ZXh0OiBcIj1cIlxuICAgIH0sXG4gICAgdGVtcGxhdGU6IFxuICAgICc8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj4nICtcbiAgICAnICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWFkZG9uXCIgaWQ9XCJiYXNpYy1hZGRvbjFcIj57e2FkZG9ufX08L3NwYW4+JyArXG4gICAgJyAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cInt7dGV4dH19XCInICtcbiAgICAnICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImJhc2ljLWFkZG9uMVwiIG5nLW1vZGVsPVwidmFsdWVcIj4nICtcbiAgICAnICA8L2lucHV0PicgK1xuICAgICc8L2Rpdj4nXG4gIH07XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqICBSZXN1bHRzIERlbW9ncmFwaGljcyBTZWN0aW9uXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuZWNBcHBEaXJlY3RpdmVzLmRpcmVjdGl2ZSgnZWNEZW1vZ3JhcGhpY3NTZWN0aW9uJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgIHNjb3BlOiB7XG4gICAgICBkYXRhOiBcIj1cIixcbiAgICAgIHVwZGF0ZWZ1bmM6IFwiJlwiLFxuICAgIH0sXG4gICAgdGVtcGxhdGU6XG4gICAgICAnPGRpdiBjbGFzcz1yb3c+JyArXG4gICAgICAnICA8ZGl2IGNsYXNzPVwibmFtZSBjb2wteHMtMTBcIj4nICtcbiAgICAgICcgICAgPHNwYW4+e3tkYXRhLm5hbWVfcHJlZml4fX08L3NwYW4+JyArXG4gICAgICAnICAgIDxzcGFuPnt7ZGF0YS5uYW1lX2ZpcnN0fX08L3NwYW4+JyArXG4gICAgICAnICAgIDxzcGFuPnt7ZGF0YS5uYW1lX21pZGRsZX19PC9zcGFuPicgK1xuICAgICAgJyAgICA8c3Bhbj57e2RhdGEubmFtZV9mYW1pbHl9fTwvc3Bhbj4nICtcbiAgICAgICcgICAgPHNwYW4+e3tkYXRhLm5hbWVfc3VmZml4fX08L3NwYW4+JyArXG4gICAgICAnICA8L2Rpdj4nICtcbiAgICAgICcgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG5nLWNsaWNrPVwiZWRpdCgpXCInICtcbiAgICAgICcgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHQgZWRpdFwiPicgK1xuICAgICAgJyAgICA8c3BhbiBuZy1jbGFzcz1cImdseXBoY2xhc3NcIj48L3NwYW4+JyArXG4gICAgICAnICA8L2J1dHRvbj4nICtcbiAgICAgICc8L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwiZWRpdC1tb2RlXCIgbmctc2hvdz1cImVkaXRpbmdcIj4nICtcbiAgICAgICcgPGVjLW5hbWUtZWRpdCBkYXRhPVwiZGF0YVwiPjwvZWMtbmFtZS1lZGl0PicgK1xuICAgICAgJyA8ZWMtZGVtby1lZGl0IGRhdGE9XCJkYXRhXCI+PC9lYy1kZW1vLWVkaXQ+JyArXG4gICAgICAnPC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cInZpZXctbW9kZVwiIG5nLWhpZGU9XCJlZGl0aW5nXCI+JyArXG4gICAgICAnIDxlYy1kZW1vLXZpZXcgZGF0YT1cImRhdGFcIj48L2VjLWRlbW8tZWRpdD4nICtcbiAgICAgICc8L2Rpdj4nLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHNjb3BlLmVkaXRpbmcgPSBmYWxzZTtcbiAgICAgIHNjb3BlLmdseXBoY2xhc3MgPSAnZ2x5cGhpY29uIGdseXBoaWNvbi1lZGl0JztcbiAgICAgIHNjb3BlLmVkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzY29wZS5lZGl0aW5nKSB7XG4gICAgICAgICAgc2NvcGUuZWRpdGluZyA9IGZhbHNlO1xuICAgICAgICAgIHNjb3BlLmdseXBoY2xhc3MgPSAnZ2x5cGhpY29uIGdseXBoaWNvbi1lZGl0JztcbiAgICAgICAgICBzY29wZS51cGRhdGVmdW5jKHsnZGF0YSc6IHNjb3BlLmRhdGF9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY29wZS5lZGl0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBzY29wZS5nbHlwaGNsYXNzID0gJ2dseXBoaWNvbiBnbHlwaGljb24tc2F2ZSc7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufSk7XG5cblxuZWNBcHBEaXJlY3RpdmVzLmRpcmVjdGl2ZSgnZWNEZW1vVmlldycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICBzY29wZToge1xuICAgICAgZGF0YTogXCI9XCIsXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogXG4gICAgICAnPGRpdiBjbGFzcz1cImRlbW8tc2V0XCI+JyArXG4gICAgICAnICA8ZWMtcGFpciBsYWJlbD1cIlNlcmlhbCBOdW1iZXJcIicgK1xuICAgICAgJyAgICAgICAgICAgZGF0YT1cImRhdGEuc2VyaWFsX251bWJlclwiPjwvZWMtcGFpcj4nICtcbiAgICAgICcgIDxlYy1wYWlyIGxhYmVsPVwiRE9CXCInICtcbiAgICAgICcgICAgICAgICAgIGRhdGE9XCJkYXRhLmRhdGVfb2ZfYmlydGhcIj48L2VjLXBhaXI+JyArXG4gICAgICAnICA8ZWMtcGFpciBsYWJlbD1cIkFnZVwiJyArXG4gICAgICAnICAgICAgICAgICBkYXRhPVwiZGF0YS5hZ2VcIj48L2VjLXBhaXI+JyArXG4gICAgICAnPC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImRlbW8tc2V0XCI+JyArXG4gICAgICAnICA8ZWMtdGVsLXBhaXIgbGFiZWw9XCJUZWwgKGRheSlcIiBuZy1pZj1cImRhdGEudGVsX2RheVwiJyArXG4gICAgICAnICAgICAgICAgICAgICAgZGF0YT1cImRhdGEudGVsX2RheVwiPjwvZWMtdGVsLXBhaXI+JyArXG4gICAgICAnICA8ZWMtdGVsLXBhaXIgbGFiZWw9XCJUZWwgKGV2ZW5pbmcpXCIgbmctaWY9XCJkYXRhLnRlbF9ldmVuaW5nXCInICtcbiAgICAgICcgICAgICAgICAgICAgICBkYXRhPVwiZGF0YS50ZWxfZXZlbmluZ1wiPjwvZWMtdGVsLXBhaXI+JyArXG4gICAgICAnICA8ZWMtdGVsLXBhaXIgbGFiZWw9XCJUZWwgKHdvcmspXCIgbmctaWY9XCJkYXRhLnRlbF93b3JrXCInICtcbiAgICAgICcgICAgICAgICAgICAgICBkYXRhPVwiZGF0YS50ZWxfd29ya1wiPjwvZWMtdGVsLXBhaXI+JyArXG4gICAgICAnICA8ZWMtdGVsLXBhaXIgbGFiZWw9XCJUZWwgKG1vYilcIiBuZy1pZj1cImRhdGEudGVsX21vYmlsZVwiJyArXG4gICAgICAnICAgICAgICAgICAgICAgZGF0YT1cImRhdGEudGVsX21vYmlsZVwiPjwvZWMtdGVsLXBhaXI+JyArXG4gICAgICAnPC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cImRlbW8tc2V0XCI+JyArXG4gICAgICAnICA8ZWMtcGFpciBsYWJlbD1cIkFkZHJlc3NcIiBuZy1pZj1cImRhdGEuYWRkcmVzc18xXCInICtcbiAgICAgICcgICAgICAgICAgIGRhdGE9XCJkYXRhLmFkZHJlc3NfMVwiPjwvZWMtcGFpcj4nICtcbiAgICAgICcgIDxlYy1wYWlyIGxhYmVsPVwiQWRkcmVzcygyKVwiIG5nLWlmPVwiZGF0YS5hZGRyZXNzXzJcIicgK1xuICAgICAgJyAgICAgICAgICAgZGF0YT1cImRhdGEuYWRkcmVzc18yXCI+PC9lYy1wYWlyPicgK1xuICAgICAgJyAgPGVjLXBhaXIgbGFiZWw9XCJBZGRyZXNzKDMpXCIgbmctaWY9XCJkYXRhLmFkZHJlc3NfM1wiJyArXG4gICAgICAnICAgICAgICAgICBkYXRhPVwiZGF0YS5hZGRyZXNzXzNcIj48L2VjLXBhaXI+JyArXG4gICAgICAnICA8ZWMtcGFpciBsYWJlbD1cIlN1YnVyYlwiIG5nLWlmPVwiZGF0YS5zdWJ1cmJcIicgK1xuICAgICAgJyAgICAgICAgICAgZGF0YT1cImRhdGEuc3VidXJiXCI+PC9lYy1wYWlyPicgK1xuICAgICAgJyAgPGVjLXBhaXIgbGFiZWw9XCJDaXR5XCIgbmctaWY9XCJkYXRhLmNpdHlcIicgK1xuICAgICAgJyAgICAgICAgICAgZGF0YT1cImRhdGEuY2l0eVwiPjwvZWMtcGFpcj4nICtcbiAgICAgICcgIDxlYy1wYWlyIGxhYmVsPVwiUG9zdGNvZGVcIiBuZy1pZj1cImRhdGEucG9zdGNvZGVcIicgK1xuICAgICAgJyAgICAgICAgICAgZGF0YT1cImRhdGEucG9zdGNvZGVcIj48L2VjLXBhaXI+JyArXG4gICAgICAnICA8ZWMtcGFpciBsYWJlbD1cIkRvIE5vdCBNYWlsIFJlYXNvblwiIG5nLWlmPVwiZGF0YS5kb19ub3RfbWFpbF9yZWFzb25cIicgK1xuICAgICAgJyAgICAgICAgICAgZGF0YT1cImRhdGEuZG9fbm90X21haWxfcmVhc29uXCI+PC9lYy1wYWlyPicgK1xuICAgICAgJzwvZGl2PidcbiAgfTtcbn0pO1xuXG5cbmVjQXBwRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2VjRGVtb0VkaXQnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJFXCIsXG4gICAgc2NvcGU6IHtcbiAgICAgIGRhdGE6IFwiPVwiLFxuICAgIH0sXG4gICAgdGVtcGxhdGU6IFxuICAgICAgJzxlYy10ZXh0ZmllbGQgaWQ9XCJpZF9zZXJpYWxfbnVtYmVyXCIgbGFiZWw9XCJTZXJpYWwgTnVtYmVyXCInICtcbiAgICAgICcgICAgICAgICAgICAgIGRhdGE9XCJkYXRhLnNlcmlhbF9udW1iZXJcIiByZWFkb25seT1cInRydWVcIj4nICtcbiAgICAgICc8L2VjLXRleHRmaWVsZD4nICtcbiAgICAgICc8ZWMtdGV4dGZpZWxkIGlkPVwiaWRfZGF0ZV9vZl9iaXJ0aFwiIGxhYmVsPVwiRE9CXCInICtcbiAgICAgICcgICAgICAgICAgICAgIGRhdGE9XCJkYXRhLmRhdGVfb2ZfYmlydGhcIj48L2VjLXRleHRmaWVsZD4nICtcbiAgICAgICc8ZWMtdGV4dGZpZWxkIGlkPVwiaWRfYWdlXCIgbGFiZWw9XCJBZ2VcIicgK1xuICAgICAgJyAgICAgICAgICAgICAgZGF0YT1cImRhdGEuYWdlXCI+PC9lYy10ZXh0ZmllbGQ+JyArXG4gICAgICAnPGVjLXRleHRmaWVsZCBpZD1cImlkX3RlbF9kYXlcIiBsYWJlbD1cIlRlbCAoZGF5KVwiJyArXG4gICAgICAnICAgICAgICAgICAgICBkYXRhPVwiZGF0YS50ZWxfZGF5XCI+PC9lYy10ZXh0ZmllbGQ+JyArXG4gICAgICAnPGVjLXRleHRmaWVsZCBpZD1cImlkX3RlbF9ldmVuaW5nXCIgbGFiZWw9XCJUZWwgKGV2ZW5pbmcpXCInICtcbiAgICAgICcgICAgICAgICAgICAgIGRhdGE9XCJkYXRhLnRlbF9ldmVuaW5nXCI+PC9lYy10ZXh0ZmllbGQ+JyArXG4gICAgICAnPGVjLXRleHRmaWVsZCBpZD1cImlkX3RlbF93b3JrXCIgbGFiZWw9XCJUZWwgKHdvcmspXCInICtcbiAgICAgICcgICAgICAgICAgICAgIGRhdGE9XCJkYXRhLnRlbF93b3JrXCI+PC9lYy10ZXh0ZmllbGQ+JyArXG4gICAgICAnPGVjLXRleHRmaWVsZCBpZD1cImlkX3RlbF9tb2JpbGVcIiBsYWJlbD1cIlRlbCAobW9iKVwiJyArXG4gICAgICAnICAgICAgICAgICAgICBkYXRhPVwiZGF0YS50ZWxfbW9iaWxlXCI+PC9lYy10ZXh0ZmllbGQ+JyArXG5cbiAgICAgICc8ZWMtdGV4dGZpZWxkIGlkPVwiaWRfYWRkcmVzc18xXCIgbGFiZWw9XCJBZGRyZXNzXCInICtcbiAgICAgICcgICAgICAgICAgICAgIGRhdGE9XCJkYXRhLmFkZHJlc3NfMVwiPjwvZWMtdGV4dGZpZWxkPicgK1xuICAgICAgJzxlYy10ZXh0ZmllbGQgaWQ9XCJpZF9hZGRyZXNzXzJcIiBsYWJlbD1cIkFkZHJlc3MoMilcIicgK1xuICAgICAgJyAgICAgICAgICAgICAgZGF0YT1cImRhdGEuYWRkcmVzc18yXCI+PC9lYy10ZXh0ZmllbGQ+JyArXG4gICAgICAnPGVjLXRleHRmaWVsZCBpZD1cImlkX2FkZHJlc3NfM1wiIGxhYmVsPVwiQWRkcmVzcygzKVwiJyArXG4gICAgICAnICAgICAgICAgICAgICBkYXRhPVwiZGF0YS5hZGRyZXNzXzNcIj48L2VjLXRleHRmaWVsZD4nICtcbiAgICAgICc8ZWMtdGV4dGZpZWxkIGlkPVwiaWRfc3VidXJiXCIgbGFiZWw9XCJTdWJ1cmJcIicgK1xuICAgICAgJyAgICAgICAgICAgICAgZGF0YT1cImRhdGEuc3VidXJiXCI+PC9lYy10ZXh0ZmllbGQ+JyArXG4gICAgICAnPGVjLXRleHRmaWVsZCBpZD1cImlkX2NpdHlcIiBsYWJlbD1cIkNpdHlcIicgK1xuICAgICAgJyAgICAgICAgICAgICAgZGF0YT1cImRhdGEuY2l0eVwiPjwvZWMtdGV4dGZpZWxkPicgK1xuICAgICAgJzxlYy10ZXh0ZmllbGQgaWQ9XCJpZF9wb3N0Y29kZVwiIGxhYmVsPVwiUG9zdGNvZGVcIicgK1xuICAgICAgJyAgICAgICAgICAgICAgZGF0YT1cImRhdGEucG9zdGNvZGVcIj48L2VjLXRleHRmaWVsZD4nICtcbiAgICAgICc8ZWMtdGV4dGFyZWEgaWQ9XCJpZF9kb19ub3RfbWFpbF9yZWFzb25cIiBsYWJlbD1cIkRvIE5vdCBNYWlsIFJlYXNvblwiJyArXG4gICAgICAnICAgICAgICAgICAgIGRhdGE9XCJkYXRhLmRvX25vdF9tYWlsX3JlYXNvblwiPjwvZWMtdGV4dGFyZWE+J1xuICB9O1xufSk7XG5cblxuZWNBcHBEaXJlY3RpdmVzLmRpcmVjdGl2ZSgnZWNOYW1lRWRpdCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICBzY29wZToge1xuICAgICAgZGF0YTogXCI9XCIsXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogXG4gICAgICAnPGVjLXRleHRmaWVsZCBpZD1cImlkX25hbWVfcHJlZml4XCIgbGFiZWw9XCJOYW1lIFByZWZpeFwiJyArXG4gICAgICAnICAgICAgICAgICBkYXRhPVwiZGF0YS5uYW1lX3ByZWZpeFwiPjwvZWMtdGV4dGZpZWxkPicgK1xuICAgICAgJzxlYy10ZXh0ZmllbGQgaWQ9XCJpZF9uYW1lX2ZpcnN0XCIgbGFiZWw9XCJGaXJzdCBOYW1lXCInICtcbiAgICAgICcgICAgICAgICAgIGRhdGE9XCJkYXRhLm5hbWVfZmlyc3RcIj48L2VjLXRleHRmaWVsZD4nICtcbiAgICAgICc8ZWMtdGV4dGZpZWxkIGlkPVwiaWRfbmFtZV9taWRkbGVcIiBsYWJlbD1cIk1pZGRsZSBOYW1lIG9yIEluaXRpYWxzXCInICtcbiAgICAgICcgICAgICAgICAgIGRhdGE9XCJkYXRhLm5hbWVfbWlkZGxlXCI+PC9lYy10ZXh0ZmllbGQ+JyArXG4gICAgICAnPGVjLXRleHRmaWVsZCBpZD1cImlkX25hbWVfZmFtaWx5XCIgbGFiZWw9XCJGYW1pbHkgTmFtZVwiJyArXG4gICAgICAnICAgICAgICAgICBkYXRhPVwiZGF0YS5uYW1lX2ZhbWlseVwiPjwvZWMtdGV4dGZpZWxkPicgK1xuICAgICAgJzxlYy10ZXh0ZmllbGQgaWQ9XCJpZF9uYW1lX3N1ZmZpeFwiIGxhYmVsPVwiTmFtZSBTdWZmaXhcIicgK1xuICAgICAgJyAgICAgICAgICAgZGF0YT1cImRhdGEubmFtZV9zdWZmaXhcIj48L2VjLXRleHRmaWVsZD4nXG4gIH07XG59KTtcblxuXG5lY0FwcERpcmVjdGl2ZXMuZGlyZWN0aXZlKCdlY1BhaXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJFXCIsXG4gICAgc2NvcGU6IHtcbiAgICAgIGxhYmVsOiBcIkBcIixcbiAgICAgIGRhdGE6IFwiPVwiLFxuICAgIH0sXG4gICAgdGVtcGxhdGU6IFxuICAgICAgJzxkaXYgY2xhc3M9XCJyb3cgcGFpclwiPicgK1xuICAgICAgJyAgPHNwYW4gY2xhc3M9XCJjb2wteHMtNCB0aXRsZVwiPnt7bGFiZWx9fTwvc3Bhbj4nICtcbiAgICAgICcgIDxzcGFuIGNsYXNzPVwiY29sLXhzLTggZGF0YVwiPnt7ZGF0YX19PC9zcGFuPicgK1xuICAgICAgJzwvZGl2PidcbiAgfTtcbn0pO1xuXG5cbmVjQXBwRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2VjVGVsUGFpcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICBzY29wZToge1xuICAgICAgbGFiZWw6IFwiQFwiLFxuICAgICAgZGF0YTogXCI9XCIsXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogXG4gICAgICAnPGRpdiBjbGFzcz1cInJvdyBwYWlyXCI+JyArXG4gICAgICAnICA8c3BhbiBjbGFzcz1cImNvbC14cy00IHRpdGxlXCI+e3tsYWJlbH19PC9zcGFuPicgK1xuICAgICAgJyAgPGEgaHJlZj1cImNhbGx0bzp7e2RhdGF9fVwiIGNsYXNzPVwiY29sLXhzLTggZGF0YVwiPnt7ZGF0YX19PC9hPicgK1xuICAgICAgJzwvZGl2PidcbiAgfTtcbn0pO1xuXG5cbmVjQXBwRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2VjVGV4dGZpZWxkJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgIHNjb3BlOiB7XG4gICAgICBpZDogXCJAXCIsXG4gICAgICBsYWJlbDogXCJAXCIsXG4gICAgICBkYXRhOiBcIj1cIixcbiAgICAgIHJlYWRvbmx5OiBcIkBcIlxuICAgIH0sXG4gICAgdGVtcGxhdGU6IFxuICAgICAgJzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+JyArXG4gICAgICAnICA8bGFiZWwgZm9yPVwie3tpZH19XCIgY2xhc3M9XCJ0aXRsZVwiPnt7bGFiZWx9fTwvbGFiZWw+JyArXG4gICAgICAnICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwie3tpZH19XCInICtcbiAgICAgICcgICAgICAgICBuZy1tb2RlbD1cImRhdGFcIj4nICtcbiAgICAgICc8L2Rpdj4nLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHZhciBpbnB1dCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmZpbmQoJ2lucHV0JykpO1xuICAgICAgaWYgKHNjb3BlLnJlYWRvbmx5ID09PSAndHJ1ZScpIHtcbiAgICAgICAgaW5wdXQuYXR0cigncmVhZG9ubHknLCAncmVhZG9ubHknKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufSk7XG5cblxuZWNBcHBEaXJlY3RpdmVzLmRpcmVjdGl2ZSgnZWNUZXh0YXJlYScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICBzY29wZToge1xuICAgICAgaWQ6IFwiQFwiLFxuICAgICAgbGFiZWw6IFwiQFwiLFxuICAgICAgZGF0YTogXCI9XCIsXG4gICAgICByZWFkb25seTogXCJAXCJcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPicgK1xuICAgICAgJyAgPGxhYmVsIGZvcj1cInt7aWR9fVwiIGNsYXNzPVwidGl0bGVcIj57e2xhYmVsfX08L2xhYmVsPicgK1xuICAgICAgJyAgPHRleHRhcmVhIHJvd3M9XCIzXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInt7aWR9fVwiJyArXG4gICAgICAnICAgICAgICAgbmctbW9kZWw9XCJkYXRhXCI+PC90ZXh0YXJlYT4nICtcbiAgICAgICc8L2Rpdj4nLFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHZhciBpbnB1dCA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmZpbmQoJ2lucHV0JykpO1xuICAgICAgaWYgKHNjb3BlLnJlYWRvbmx5ID09PSAndHJ1ZScpIHtcbiAgICAgICAgaW5wdXQuYXR0cigncmVhZG9ubHknLCAncmVhZG9ubHknKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufSk7XG5cblxuIiwiLyogRmlsdGVycyAqL1xuXG52YXIgZWNBcHBGaWx0ZXJzID0gYW5ndWxhci5tb2R1bGUoJ2VjQXBwRmlsdGVycycsIFtdKTsiLCJ2YXIgZWNRdWV1ZSA9IGFuZ3VsYXIubW9kdWxlKCdlY0V4cG9ydCcsIFtcbiAgJ3Jlc3Rhbmd1bGFyJyxcbiAgJ2VjRXhwb3J0Q29udHJvbGxlcnMnLFxuICAnZWNFeHBvcnREaXJlY3RpdmVzJyxcbiAgJ2VjRXhwb3J0U2VydmljZXMnLFxuXSk7IiwiLyogQ29udHJvbGxlcnMgKi9cblxudmFyIGVjRXhwb3J0Q29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnZWNFeHBvcnRDb250cm9sbGVycycsIFtdKTtcblxuXG5lY0V4cG9ydENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2V4cG9ydEN0cmwnLCBcbiAgWyckc2NvcGUnLCAnTGlzdFR5cGUnLCAnTGlzdFR5cGVSZXBvcnQnLCAnRXhwb3J0ZWRGaWxlcycsXG4gIGZ1bmN0aW9uKCRzY29wZSwgTGlzdFR5cGUsIExpc3RUeXBlUmVwb3J0LCBFeHBvcnRlZEZpbGVzKSB7XG5cbiAgICAkc2NvcGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLmdldEV4cG9ydGFibGVSZXBvcnQoKTtcbiAgICAgICRzY29wZS5nZXRFeHBvcnRlZEZpbGVzKCk7XG4gICAgfTtcblxuICAgICRzY29wZS5nZXRFeHBvcnRhYmxlUmVwb3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBMaXN0VHlwZS5nZXREYXRhKCkudGhlbihcbiAgICAgICAgZnVuY3Rpb24obGlzdF90eXBlcykge1xuICAgICAgICAgICRzY29wZS5saXN0dHlwZXMgPSB7fTtcbiAgICAgICAgICBsaXN0X3R5cGVzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgTGlzdFR5cGVSZXBvcnQuZ2V0RGF0YShlbGVtZW50LnNsdWcpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgIHZhciB0eXBlSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAnc2x1Zyc6IGVsZW1lbnQuc2x1ZyxcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6IGVsZW1lbnQuZGlzcGxheV9uYW1lLFxuICAgICAgICAgICAgICAgICdjb21wbGV0ZWQnOiByZXN1bHQuY29tcGxldGVkLFxuICAgICAgICAgICAgICAgICdkZXF1ZXVlZCc6IHJlc3VsdC5kZXF1ZXVlZCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgJHNjb3BlLmxpc3R0eXBlc1t0eXBlSW5mby5zbHVnXSA9IHR5cGVJbmZvO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZ2V0RXhwb3J0ZWRGaWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgRXhwb3J0ZWRGaWxlcy5nZXREYXRhKCkudGhlbihcbiAgICAgICAgZnVuY3Rpb24oZmlsZXMpIHtcbiAgICAgICAgICAkc2NvcGUudXBkYXRlRmlsZXNUb0Rvd25sb2FkKGZpbGVzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5kb0V4cG9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgRXhwb3J0ZWRGaWxlcy5kb0V4cG9ydCgpLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uKGZpbGVzKSB7XG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZUZpbGVzVG9Eb3dubG9hZChmaWxlcyk7XG4gICAgICAgICAgJHNjb3BlLmdldEV4cG9ydGFibGVSZXBvcnQoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVGaWxlc1RvRG93bmxvYWQgPSBmdW5jdGlvbihmaWxlcykge1xuICAgICAgJHNjb3BlLmZpbGVzVG9Eb3dubG9hZCA9IHt9O1xuICAgICAgZmlsZXMuZm9yRWFjaChcbiAgICAgICAgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIHZhciB0aGVmaWxlID0ge1xuICAgICAgICAgICAgJ2ZpbGVuYW1lJzogZWxlbWVudC5maWxlbmFtZSxcbiAgICAgICAgICAgICdVUkwnOiBlbGVtZW50LlVSTFxuICAgICAgICAgIH07XG4gICAgICAgICAgJHNjb3BlLmZpbGVzVG9Eb3dubG9hZFtlbGVtZW50LmZpbGVuYW1lXSA9IHRoZWZpbGU7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUubGlzdHR5cGVzID0ge307XG4gICAgJHNjb3BlLmZpbGVzVG9Eb3dubG9hZCA9IHt9O1xuICAgICRzY29wZS5yZWZyZXNoKCk7XG5cbiAgfV0pOyIsIi8qIERpcmVjdGl2ZXMgKi9cblxudmFyIGVjRXhwb3J0RGlyZWN0aXZlcyA9IGFuZ3VsYXIubW9kdWxlKCdlY0V4cG9ydERpcmVjdGl2ZXMnLCBbXSk7XG5cblxuZWNFeHBvcnREaXJlY3RpdmVzLmRpcmVjdGl2ZSgnZWNSZXBvcnRSb3cnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJBXCIsXG4gICAgc2NvcGU6IHtcbiAgICAgICAgJ2RhdGEnOiBcIj1cIixcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICcgIDx0aD57eyBkYXRhLmRpc3BsYXkgfX08L3RoPicgK1xuICAgICAgJyAgPHRkPnt7IGRhdGEuY29tcGxldGVkIH19PC90ZD4nICtcbiAgICAgICcgIDx0ZD57eyBkYXRhLmRlcXVldWVkIH19PC90ZD4nXG4gIH07XG59KTtcblxuXG5lY0V4cG9ydERpcmVjdGl2ZXMuZGlyZWN0aXZlKCdlY0ZpbGVEb3dubG9hZEl0ZW0nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJBXCIsXG4gICAgc2NvcGU6IHtcbiAgICAgICAgJ2RhdGEnOiBcIj1cIixcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICcgIHt7IGRhdGEuZmlsZW5hbWUgfX0nICtcbiAgICAgICcgIDxhIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi14cyBwdWxsLXJpZ2h0XCIgaHJlZj1cInt7IGRhdGEuVVJMIH19XCIgcm9sZT1cImJ1dHRvblwiPicgK1xuICAgICAgJyAgICA8aSBjbGFzcz1cImZhIGZhLWNsb3VkLWRvd25sb2FkXCI+PC9pPiBkb3dubG9hZCcgK1xuICAgICAgJyAgPC9hPidcbiAgfTtcbn0pO1xuXG4iLCIvKiBTZXJ2aWNlcyBhbmQgRmFjdG9yaWVzICovXG5cbnZhciBlY0V4cG9ydFNlcnZpY2VzID0gYW5ndWxhci5tb2R1bGUoJ2VjRXhwb3J0U2VydmljZXMnLCBbJ3Jlc3Rhbmd1bGFyJ10pO1xuXG5cbmVjRXhwb3J0U2VydmljZXMuZmFjdG9yeSgnTGlzdFR5cGUnLCBcbiAgWyckcScsICdSZXN0YW5ndWxhcicsXG4gIGZ1bmN0aW9uKCRxLCBSZXN0YW5ndWxhcikge1xuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgUmVzdGFuZ3VsYXIuYWxsKCdsaXN0X3R5cGVzLycpLmdldExpc3QoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuICAgIH07XG59XSk7XG5cblxuZWNFeHBvcnRTZXJ2aWNlcy5mYWN0b3J5KCdMaXN0VHlwZVJlcG9ydCcsIFxuICBbJyRxJywgJ1Jlc3Rhbmd1bGFyJyxcbiAgZnVuY3Rpb24oJHEsIFJlc3Rhbmd1bGFyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKHNsdWcpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgUmVzdGFuZ3VsYXIuYWxsKCdsaXN0X3R5cGVzLycpLm9uZShzbHVnICsgJy9yZXBvcnQvJykuZ2V0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH0sXG4gICAgfTtcbn1dKTtcblxuXG5lY0V4cG9ydFNlcnZpY2VzLmZhY3RvcnkoJ0V4cG9ydGVkRmlsZXMnLCBcbiAgWyckcScsICdSZXN0YW5ndWxhcicsXG4gIGZ1bmN0aW9uKCRxLCBSZXN0YW5ndWxhcikge1xuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbihzbHVnKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIFJlc3Rhbmd1bGFyLmFsbCgnY2FsbF9yZWNvcmRzLycpLm9uZSgnZXhwb3J0ZWQvJykuZ2V0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgIGRvRXhwb3J0OiBmdW5jdGlvbihzbHVnKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIFJlc3Rhbmd1bGFyLmFsbCgnY2FsbF9yZWNvcmRzLycpLm9uZSgnZXhwb3J0ZWQvJylcbiAgICAgICAgICAgICAgICAgICAgLnB1dCh7fSwge1wiWC1DU1JGVG9rZW5cIjogY3NyZl90b2tlbn0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9LFxuICAgIH07XG59XSk7IiwidmFyIGVjUXVldWUgPSBhbmd1bGFyLm1vZHVsZSgnZWNRdWV1ZScsIFtcbiAgJ3Jlc3Rhbmd1bGFyJyxcbiAgJ2VjUXVldWVDb250cm9sbGVycycsXG4gICdlY1F1ZXVlRGlyZWN0aXZlcycsXG4gICdlY1F1ZXVlU2VydmljZXMnLFxuXSk7IiwiLyogQ29udHJvbGxlcnMgKi9cblxudmFyIGVjUXVldWVDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdlY1F1ZXVlQ29udHJvbGxlcnMnLCBbXSk7XG5cblxuZWNRdWV1ZUNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3F1ZXVlQ3RybCcsIFxuICBbJyRzY29wZScsICdMaXN0VHlwZScsICdMaXN0VHlwZVJlcG9ydCcsXG4gIGZ1bmN0aW9uKCRzY29wZSwgTGlzdFR5cGUsIExpc3RUeXBlUmVwb3J0KSB7XG5cbiAgICAkc2NvcGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgTGlzdFR5cGUuZ2V0RGF0YSgpLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uKGxpc3RfdHlwZXMpIHtcbiAgICAgICAgICAkc2NvcGUubGlzdHR5cGVzID0ge307XG4gICAgICAgICAgbGlzdF90eXBlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIExpc3RUeXBlUmVwb3J0LmdldERhdGEoZWxlbWVudC5zbHVnKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICB2YXIgdHlwZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgJ3NsdWcnOiBlbGVtZW50LnNsdWcsXG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiBlbGVtZW50LmRpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgICAgICAnaW5wcm9ncmVzcyc6IHJlc3VsdC5pbnByb2dyZXNzLFxuICAgICAgICAgICAgICAgICduZXcnOiByZXN1bHQubmV3LFxuICAgICAgICAgICAgICAgICdxdWV1ZWQnOiByZXN1bHQucXVldWVkXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICRzY29wZS5saXN0dHlwZXNbdHlwZUluZm8uc2x1Z10gPSB0eXBlSW5mbztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmRvcXVldWUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICB2YXIgc2x1ZyA9IGRhdGEuc2x1ZztcbiAgICAgIExpc3RUeXBlUmVwb3J0LmRvUXVldWUoc2x1ZykudGhlbihcbiAgICAgICAgZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgZGF0YS5jb21wbGV0ZWQgPSByZXN1bHQuY29tcGxldGVkO1xuICAgICAgICAgIGRhdGEuZGVxdWV1ZWQgPSByZXN1bHQuZGVxdWV1ZWQ7XG4gICAgICAgICAgZGF0YS5pbnByb2dyZXNzID0gcmVzdWx0LmlucHJvZ3Jlc3M7XG4gICAgICAgICAgZGF0YS5uZXcgPSByZXN1bHQubmV3O1xuICAgICAgICAgIGRhdGEucXVldWVkID0gcmVzdWx0LnF1ZXVlZDtcbiAgICAgICAgICBcbiAgICAgICAgICAkc2NvcGUubGlzdHR5cGVzW3NsdWddID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5saXN0dHlwZXMgPSBbXTtcbiAgICAkc2NvcGUucmVmcmVzaCgpO1xuXG4gIH1dKTsiLCIvKiBEaXJlY3RpdmVzICovXG5cbnZhciBlY1F1ZXVlRGlyZWN0aXZlcyA9IGFuZ3VsYXIubW9kdWxlKCdlY1F1ZXVlRGlyZWN0aXZlcycsIFtdKTtcblxuXG5lY1F1ZXVlRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2VjUmVwb3J0Um93JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgIHNjb3BlOiB7XG4gICAgICAgICdkYXRhJzogXCI9XCIsXG4gICAgICAgICdxdWV1ZWZ1bmMnOiBcIiZcIixcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICcgIDx0aD57eyBkYXRhLmRpc3BsYXkgfX08L3RoPicgK1xuICAgICAgJyAgPHRkPnt7IGRhdGEubmV3IH19PC90ZD4nICtcbiAgICAgICcgIDx0ZD57eyBkYXRhLmlucHJvZ3Jlc3MgfX08L3RkPicgK1xuICAgICAgJyAgPHRkIGNsYXNzPVwiaW5mb1wiPnt7IGRhdGEucXVldWVkIH19PC90ZD4nICtcbiAgICAgICcgIDx0ZD4nICtcbiAgICAgICcgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnkgcHVsbC1yaWdodFwiIHR5cGU9XCJidXR0b25cIicgK1xuICAgICAgJyAgICAgICAgICAgIG5nLWNsaWNrPVwicXVldWUoKVwiPlF1ZXVlPC9idXR0b24+JyArXG4gICAgICAnICA8L3RkPicsXG5cbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBzY29wZS5xdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5xdWV1ZWZ1bmMoeydsaXN0Jzogc2NvcGUuZGF0YX0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59KTtcbiIsIi8qIFNlcnZpY2VzIGFuZCBGYWN0b3JpZXMgKi9cblxudmFyIGVjUXVldWVTZXJ2aWNlcyA9IGFuZ3VsYXIubW9kdWxlKCdlY1F1ZXVlU2VydmljZXMnLCBbJ3Jlc3Rhbmd1bGFyJ10pO1xuXG5cbmVjUXVldWVTZXJ2aWNlcy5mYWN0b3J5KCdMaXN0VHlwZScsIFxuICBbJyRxJywgJ1Jlc3Rhbmd1bGFyJyxcbiAgZnVuY3Rpb24oJHEsIFJlc3Rhbmd1bGFyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICBSZXN0YW5ndWxhci5hbGwoJ2xpc3RfdHlwZXMvJykuZ2V0TGlzdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9XG4gICAgfTtcbn1dKTtcblxuXG5lY1F1ZXVlU2VydmljZXMuZmFjdG9yeSgnTGlzdFR5cGVSZXBvcnQnLCBcbiAgWyckcScsICdSZXN0YW5ndWxhcicsXG4gIGZ1bmN0aW9uKCRxLCBSZXN0YW5ndWxhcikge1xuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbihzbHVnKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIFJlc3Rhbmd1bGFyLmFsbCgnbGlzdF90eXBlcy8nKS5vbmUoc2x1ZyArICcvcmVwb3J0LycpLmdldCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9LFxuXG4gICAgICBkb1F1ZXVlOiBmdW5jdGlvbihzbHVnKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIFJlc3Rhbmd1bGFyLmFsbCgnbGlzdF90eXBlcy8nKS5vbmUoc2x1ZyArICcvcmVwb3J0LycpXG4gICAgICAgICAgICAgICAgICAgLnB1dCh7fSwge1wiWC1DU1JGVG9rZW5cIjogY3NyZl90b2tlbn0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9XG4gICAgfTtcbn1dKTsiLCJ2YXIgZWNTZWFyY2ggPSBhbmd1bGFyLm1vZHVsZSgnZWNTZWFyY2gnLCBbXG4gICdyZXN0YW5ndWxhcicsXG4gICdlY1NlYXJjaENvbnRyb2xsZXJzJyxcbiAgJ2VjU2VhcmNoRGlyZWN0aXZlcycsXG4gICdlY1NlYXJjaFNlcnZpY2VzJyxcbl0pOyIsIi8qIENvbnRyb2xsZXJzICovXG5cbnZhciBlY1NlYXJjaENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ2VjU2VhcmNoQ29udHJvbGxlcnMnLCBbXSk7XG5cblxuZWNTZWFyY2hDb250cm9sbGVycy5jb250cm9sbGVyKCdzZWFyY2hDdHJsJywgXG4gIFsnJHNjb3BlJywgJ0NhbGxSZWNvcmQnLFxuICBmdW5jdGlvbigkc2NvcGUsIENhbGxSZWNvcmQpIHtcblxuICAgIHZhciBkb1NlYXJjaCA9IGZ1bmN0aW9uKHNlYXJjaHN0cmluZykge1xuICAgICAgQ2FsbFJlY29yZC5nZXRMaXN0KHsnc2VhcmNoJzogc2VhcmNoc3RyaW5nfSkudGhlbihcbiAgICAgICAgZnVuY3Rpb24oY2FsbF9yZWNvcmRzKSB7XG4gICAgICAgICAgJHNjb3BlLmRhdGEgPSBjYWxsX3JlY29yZHM7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZGVxdWV1ZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICBDYWxsUmVjb3JkLm9uZShpZCkuZ2V0KCkudGhlbihcbiAgICAgICAgZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgICAgcmVjLnN0YXR1cyA9ICdkcSc7XG4gICAgICAgICAgcmVjLnB1dCh7fSwge1wiWC1DU1JGVG9rZW5cIjogY3NyZl90b2tlbn0pLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgZG9TZWFyY2goJHNjb3BlLnNlYXJjaFN0cmluZyk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciB3aXRoIHN0YXR1cyBjb2RlXCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5vbkNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCRzY29wZS5zZWFyY2hTdHJpbmcubGVuZ3RoID4gMikge1xuICAgICAgICBkb1NlYXJjaCgkc2NvcGUuc2VhcmNoU3RyaW5nKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgICRzY29wZS4kd2F0Y2goJ2RhdGEnLCBmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCl7XG4gICAgICBpZiAobmV3VmFsKSB7XG4gICAgICAgIGlmIChuZXdWYWwubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICRzY29wZS5ub3Jlc3VsdHMgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRzY29wZS5ub3Jlc3VsdHMgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZpcnN0IHBhZ2UgbG9hZFxuICAgICAgICAkc2NvcGUubm9yZXN1bHRzID0gdHJ1ZTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgfV0pOyIsIi8qIERpcmVjdGl2ZXMgKi9cblxudmFyIGVjU2VhcmNoRGlyZWN0aXZlcyA9IGFuZ3VsYXIubW9kdWxlKCdlY1NlYXJjaERpcmVjdGl2ZXMnLCBbXSk7XG5cblxuZWNTZWFyY2hEaXJlY3RpdmVzLmRpcmVjdGl2ZSgnZWNTZWFyY2hSZXN1bHQnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJFXCIsXG4gICAgc2NvcGU6IHtcbiAgICAgIGRhdGE6IFwiPVwiLFxuICAgICAgZGVxdWV1ZTogXCImXCIsXG4gICAgfSxcbiAgICB0ZW1wbGF0ZTogXG4gICAgICAnPGRpdiBjbGFzcz1cInJvd1wiPicgK1xuICAgICAgJyAgPGgyIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtLWhlYWRpbmcgY29sLXhzLTggY29sLW1kLTdcIj5TTjoge3sgZGF0YS5zZXJpYWxfbnVtYmVyIH19PC9oMj4nICtcbiAgICAgICcgIDxoNCBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbS1zdWItaGVhZGluZyBwdWxsLXJpZ2h0XCI+JyArXG4gICAgICAnICAgIHt7IGRhdGEubGlzdF90eXBlX2Rpc3BsYXkgfX0gPHNwYW4gbmctY2xhc3M9XCJsYWJlbENsYXNzKClcIj57eyBkYXRhLnN0YXR1c19kaXNwbGF5IH19PC9zcGFuPicgK1xuICAgICAgJyAgPC9oND4nICtcbiAgICAgICc8L2Rpdj4nICtcbiAgICAgICc8aDQ+e3sgZnVsbF9uYW1lIH19PC9oND4nICtcbiAgICAgICc8ZWMtdGVsLWNvbXByZXNzZWQgZGF5PVwiZGF0YS50ZWxfZGF5XCIgZXZlbmluZz1cImRhdGEudGVsX2V2ZW5pbmdcIiB3b3JrPVwiZGF0YS50ZWxfd29ya1wiJyArXG4gICAgICAnICAgICAgICAgICAgICAgICAgIG1vYmlsZT1cImRhdGEudGVsX21vYmlsZVwiPicgK1xuICAgICAgJzwvZWMtdGVsLWNvbXByZXNzZWQ+JyArXG4gICAgICAnPGVjLWFkZHJlc3MtY29tcHJlc3NlZCBhZGRyMT1cImRhdGEuYWRkcmVzc18xXCIgYWRkcjI9XCJkYXRhLmFkZHJlc3NfM1wiIGFkZHIzPVwiZGF0YS5hZGRyZXNzXzNcIicgK1xuICAgICAgJyAgICAgICAgICAgICAgICAgICAgICAgc3VidXJiPVwiZGF0YS5zdWJ1cmJcIiBjaXR5PVwiZGF0YS5jaXR5XCIgcG9zdGNvZGU9XCJkYXRhLnBvc3Rjb2RlXCI+JyArXG4gICAgICAnPC9lYy1hZGRyZXNzLWNvbXByZXNzZWQ+JyArXG4gICAgICAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHQgYnRuLW1kIHB1bGwtcmlnaHRcIicgK1xuICAgICAgJyAgICAgICAgbmctY2xpY2s9XCJoYW5kbGVjbGljaygpXCI+JyArXG4gICAgICAnICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZWplY3RcIiBhcmlhLWhpZGRlbj1cInRydWVcIj4nICtcbiAgICAgICcgIDwvc3Bhbj4gRGVxdWV1ZScgK1xuICAgICAgJzwvYnV0dG9uPicsXG5cbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgICB2YXIgYnV0dG9uID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuZmluZCgnYnV0dG9uJykpO1xuICAgICAgICBpZiAoc2NvcGUuZGF0YS5zdGF0dXMgIT09IFwibndcIiAmJiBzY29wZS5kYXRhLnN0YXR1cyAhPT0gXCJpcFwiKSB7XG4gICAgICAgICAgYnV0dG9uLmF0dHIoIFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuaGFuZGxlY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzY29wZS5kZXF1ZXVlKHsnaWQnOiBzY29wZS5kYXRhLmlkfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUubGFiZWxDbGFzcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChzY29wZS5kYXRhLnN0YXR1cyA9PT0gXCJud1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJsYWJlbCBsYWJlbC1zdWNjZXNzXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzY29wZS5kYXRhLnN0YXR1cyA9PT0gXCJpcFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJsYWJlbCBsYWJlbC1pbmZvXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzY29wZS5kYXRhLnN0YXR1cyA9PT0gXCJjcFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJsYWJlbCBsYWJlbC1wcmltYXJ5XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcImxhYmVsIGxhYmVsLWRlZmF1bHRcIjtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhbGNuYW1lKCkge1xuICAgICAgICAgIHZhciBuYW1lICA9ICcnO1xuICAgICAgICAgIGlmIChzY29wZS5kYXRhLm5hbWVfcHJlZml4KSBuYW1lID0gbmFtZSArIHNjb3BlLmRhdGEubmFtZV9wcmVmaXggKyAnICc7XG4gICAgICAgICAgaWYgKHNjb3BlLmRhdGEubmFtZV9maXJzdCkgbmFtZSA9IG5hbWUgKyBzY29wZS5kYXRhLm5hbWVfZmlyc3QgKyAnICc7XG4gICAgICAgICAgaWYgKHNjb3BlLmRhdGEubmFtZV9taWRkbGUpIG5hbWUgPSBuYW1lICsgc2NvcGUuZGF0YS5uYW1lX21pZGRsZSArICcgJztcbiAgICAgICAgICBpZiAoc2NvcGUuZGF0YS5uYW1lX2ZhbWlseSkgbmFtZSA9IG5hbWUgKyBzY29wZS5kYXRhLm5hbWVfZmFtaWx5ICsgJyAnO1xuICAgICAgICAgIGlmIChzY29wZS5kYXRhLm5hbWVfc3VmZml4KSBuYW1lID0gbmFtZSArIHNjb3BlLmRhdGEubmFtZV9zdWZmaXg7XG4gICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuZnVsbF9uYW1lID0gY2FsY25hbWUoKTtcbiAgICAgIH1cbiAgfTtcbn0pO1xuXG5cbmVjU2VhcmNoRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2VjVGVsQ29tcHJlc3NlZCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICBzY29wZToge1xuICAgICAgICAnZGF5JzogXCI9XCIsXG4gICAgICAgICdldmVuaW5nJzogXCI9XCIsXG4gICAgICAgICd3b3JrJzogXCI9XCIsXG4gICAgICAgICdtb2JpbGUnOiBcIj1cIixcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICc8cCBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbS10ZXh0IHBob25lLW51bWJlcnMgcm93XCI+JyArXG4gICAgICAnICA8c3BhbiBuZy1jbGFzcz1cInNwYW5jbGFzc1wiIG5nLWlmPVwiZGF5XCI+PGVtPihEQVkpPC9lbT57eyBkYXkgfX08L3NwYW4+JyArXG4gICAgICAnICA8c3BhbiBuZy1jbGFzcz1cInNwYW5jbGFzc1wiIG5nLWlmPVwiZXZlbmluZ1wiPjxlbT4oRVZFKTwvZW0+e3sgZXZlbmluZyB9fTwvc3Bhbj4nICtcbiAgICAgICcgIDxzcGFuIG5nLWNsYXNzPVwic3BhbmNsYXNzXCIgbmctaWY9XCJ3b3JrXCI+PGVtPihXT1JLKTwvZW0+e3sgd29yayB9fTwvc3Bhbj4nICtcbiAgICAgICcgIDxzcGFuIG5nLWNsYXNzPVwic3BhbmNsYXNzXCIgbmctaWY9XCJtb2JpbGVcIj48ZW0+KE1PQik8L2VtPnt7IG1vYmlsZSB9fTwvc3Bhbj4nICtcbiAgICAgICc8L3A+JyxcblxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHNjb3BlLnNwYW5jbGFzcyA9ICdjb2wteHMtMTAgY29sLXNtLTYgY29sLWxnLTQnO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5cbmVjU2VhcmNoRGlyZWN0aXZlcy5kaXJlY3RpdmUoJ2VjQWRkcmVzc0NvbXByZXNzZWQnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogXCJFXCIsXG4gICAgc2NvcGU6IHtcbiAgICAgICdhZGRyMSc6IFwiPVwiLFxuICAgICAgJ2FkZHIyJzogXCI9XCIsXG4gICAgICAnYWRkcjMnOiBcIj1cIixcbiAgICAgICdzdWJ1cmInOiBcIj1cIixcbiAgICAgICdjaXR5JzogXCI9XCIsXG4gICAgICAncG9zdGNvZGUnOiBcIj1cIixcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBcbiAgICAgICc8ZGl2IGNsYXNzPVwicm93XCI+JyArXG4gICAgICAnICA8dWwgY2xhc3M9XCJsaXN0LXVuc3R5bGVkIGNvbC14cy0xMCBjb2wtc20tNiBhZGRyZXNzXCI+JyArXG4gICAgICAnICAgIDxsaSBuZy1pZj1cImFkZHIxXCI+e3sgYWRkcjEgfX08L2xpPicgK1xuICAgICAgJyAgICA8bGkgbmctaWY9XCJhZGRyMlwiPnt7IGFkZHIyIH19PC9saT4nICtcbiAgICAgICcgICAgPGxpIG5nLWlmPVwiYWRkcjNcIj57eyBhZGRyMyB9fTwvbGk+JyArXG4gICAgICAnICAgIDxsaSBuZy1pZj1cInN1YnVyYlwiPnt7IHN1YnVyYiB9fTwvbGk+JyArXG4gICAgICAnICAgIDxsaT4nICtcbiAgICAgICcgICAgICA8c3BhbiBuZy1pZj1cImNpdHlcIj57eyBjaXR5IH19PC9zcGFuPicgK1xuICAgICAgJyAgICAgIDxzcGFuIG5nLWlmPVwicG9zdGNvZGVcIj4sIHt7IHBvc3Rjb2RlIH19PC9zcGFuPicgK1xuICAgICAgJyAgICA8L2xpPicgK1xuICAgICAgJyAgPC91bD4nICtcbiAgICAgICc8L2Rpdj4nXG4gIH07XG59KTtcbiIsIi8qIFNlcnZpY2VzICovXG5cbnZhciBlY1NlYXJjaFNlcnZpY2VzID0gYW5ndWxhci5tb2R1bGUoJ2VjU2VhcmNoU2VydmljZXMnLCBbJ3Jlc3Rhbmd1bGFyJ10pO1xuXG5cbmVjU2VhcmNoU2VydmljZXMuZmFjdG9yeSgnQ2FsbFJlY29yZCcsIFxuICBbJ1Jlc3Rhbmd1bGFyJyxcbiAgZnVuY3Rpb24oUmVzdGFuZ3VsYXIpIHtcbiAgICByZXR1cm4gUmVzdGFuZ3VsYXIuc2VydmljZSgnY2FsbF9yZWNvcmRzJyk7XG59XSk7XG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
